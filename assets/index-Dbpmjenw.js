(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();const equalFn=(e,t)=>e===t,$PROXY=Symbol("solid-proxy"),$TRACK=Symbol("solid-track"),signalOptions={equals:equalFn};let runEffects=runQueue;const STALE=1,PENDING=2,UNOWNED={owned:null,cleanups:null,context:null,owner:null},NO_INIT={};var Owner=null;let Transition=null,ExternalSourceConfig=null,Listener=null,Updates=null,Effects=null,ExecCount=0;function createRoot(e,t){const n=Listener,o=Owner,l=e.length===0,s=t===void 0?o:t,u=l?UNOWNED:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=l?e:()=>e(()=>untrack(()=>cleanNode(u)));Owner=u,Listener=null;try{return runUpdates(a,!0)}finally{Listener=n,Owner=o}}function createSignal(e,t){t=t?Object.assign({},signalOptions,t):signalOptions;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},o=l=>(typeof l=="function"&&(l=l(n.value)),writeSignal(n,l));return[readSignal.bind(n),o]}function createComputed(e,t,n){const o=createComputation(e,t,!0,STALE);updateComputation(o)}function createRenderEffect(e,t,n){const o=createComputation(e,t,!1,STALE);updateComputation(o)}function createEffect(e,t,n){runEffects=runUserEffects;const o=createComputation(e,t,!1,STALE);o.user=!0,Effects?Effects.push(o):updateComputation(o)}function createMemo(e,t,n){n=n?Object.assign({},signalOptions,n):signalOptions;const o=createComputation(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,updateComputation(o),readSignal.bind(o)}function isPromise(e){return e&&typeof e=="object"&&"then"in e}function createResource(e,t,n){let o,l,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(o=!0,l=e,s=t||{}):(o=e,l=t,s={});let u=null,a=NO_INIT,h=!1,f="initialValue"in s,S=typeof o=="function"&&createMemo(o);const y=new Set,[v,$]=(s.storage||createSignal)(s.initialValue),[E,I]=createSignal(void 0),[R,P]=createSignal(void 0,{equals:!1}),[N,b]=createSignal(f?"ready":"unresolved");function A(g,c,_,m){return u===g&&(u=null,m!==void 0&&(f=!0),(g===a||c===a)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(m,{value:c})),a=NO_INIT,d(c,_)),c}function d(g,c){runUpdates(()=>{c===void 0&&$(()=>g),b(c!==void 0?"errored":f?"ready":"unresolved"),I(c);for(const _ of y.keys())_.decrement();y.clear()},!1)}function i(){const g=SuspenseContext,c=v(),_=E();if(_!==void 0&&!u)throw _;return Listener&&!Listener.user&&g&&createComputed(()=>{R(),u&&(g.resolved||y.has(g)||(g.increment(),y.add(g)))}),c}function p(g=!0){if(g!==!1&&h)return;h=!1;const c=S?S():o;if(c==null||c===!1){A(u,untrack(v));return}const _=a!==NO_INIT?a:untrack(()=>l(c,{value:v(),refetching:g}));return isPromise(_)?(u=_,"value"in _?(_.status==="success"?A(u,_.value,void 0,c):A(u,void 0,void 0,c),_):(h=!0,queueMicrotask(()=>h=!1),runUpdates(()=>{b(f?"refreshing":"pending"),P()},!1),_.then(m=>A(_,m,void 0,c),m=>A(_,void 0,castError(m),c)))):(A(u,_,void 0,c),_)}return Object.defineProperties(i,{state:{get:()=>N()},error:{get:()=>E()},loading:{get(){const g=N();return g==="pending"||g==="refreshing"}},latest:{get(){if(!f)return i();const g=E();if(g&&!u)throw g;return v()}}}),S?createComputed(()=>p(!1)):p(!1),[i,{refetch:p,mutate:$}]}function createSelector(e,t=equalFn,n){const o=new Map,l=createComputation(s=>{const u=e();for(const[a,h]of o.entries())if(t(a,u)!==t(a,s))for(const f of h.values())f.state=STALE,f.pure?Updates.push(f):Effects.push(f);return u},void 0,!0,STALE);return updateComputation(l),s=>{const u=Listener;if(u){let a;(a=o.get(s))?a.add(u):o.set(s,a=new Set([u])),onCleanup(()=>{a.delete(u),!a.size&&o.delete(s)})}return t(s,l.value)}}function batch(e){return runUpdates(e,!1)}function untrack(e){if(Listener===null)return e();const t=Listener;Listener=null;try{return e()}finally{Listener=t}}function on(e,t,n){const o=Array.isArray(e);let l;return s=>{let u;if(o){u=Array(e.length);for(let h=0;h<e.length;h++)u[h]=e[h]()}else u=e();const a=untrack(()=>t(u,l,s));return l=u,a}}function onMount(e){createEffect(()=>untrack(e))}function onCleanup(e){return Owner===null||(Owner.cleanups===null?Owner.cleanups=[e]:Owner.cleanups.push(e)),e}function getListener(){return Listener}function createContext(e,t){const n=Symbol("context");return{id:n,Provider:createProvider(n),defaultValue:e}}function useContext(e){return Owner&&Owner.context&&Owner.context[e.id]!==void 0?Owner.context[e.id]:e.defaultValue}function children(e){const t=createMemo(e),n=createMemo(()=>resolveChildren(t()));return n.toArray=()=>{const o=n();return Array.isArray(o)?o:o!=null?[o]:[]},n}let SuspenseContext;function readSignal(){if(this.sources&&this.state)if(this.state===STALE)updateComputation(this);else{const e=Updates;Updates=null,runUpdates(()=>lookUpstream(this),!1),Updates=e}if(Listener){const e=this.observers?this.observers.length:0;Listener.sources?(Listener.sources.push(this),Listener.sourceSlots.push(e)):(Listener.sources=[this],Listener.sourceSlots=[e]),this.observers?(this.observers.push(Listener),this.observerSlots.push(Listener.sources.length-1)):(this.observers=[Listener],this.observerSlots=[Listener.sources.length-1])}return this.value}function writeSignal(e,t,n){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&runUpdates(()=>{for(let l=0;l<e.observers.length;l+=1){const s=e.observers[l],u=Transition&&Transition.running;u&&Transition.disposed.has(s),(u?!s.tState:!s.state)&&(s.pure?Updates.push(s):Effects.push(s),s.observers&&markDownstream(s)),u||(s.state=STALE)}if(Updates.length>1e6)throw Updates=[],new Error},!1)),t}function updateComputation(e){if(!e.fn)return;cleanNode(e);const t=ExecCount;runComputation(e,e.value,t)}function runComputation(e,t,n){let o;const l=Owner,s=Listener;Listener=Owner=e;try{o=e.fn(t)}catch(u){return e.pure&&(e.state=STALE,e.owned&&e.owned.forEach(cleanNode),e.owned=null),e.updatedAt=n+1,handleError(u)}finally{Listener=s,Owner=l}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?writeSignal(e,o):e.value=o,e.updatedAt=n)}function createComputation(e,t,n,o=STALE,l){const s={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Owner,context:Owner?Owner.context:null,pure:n};return Owner===null||Owner!==UNOWNED&&(Owner.owned?Owner.owned.push(s):Owner.owned=[s]),s}function runTop(e){if(e.state===0)return;if(e.state===PENDING)return lookUpstream(e);if(e.suspense&&untrack(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ExecCount);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===STALE)updateComputation(e);else if(e.state===PENDING){const o=Updates;Updates=null,runUpdates(()=>lookUpstream(e,t[0]),!1),Updates=o}}function runUpdates(e,t){if(Updates)return e();let n=!1;t||(Updates=[]),Effects?n=!0:Effects=[],ExecCount++;try{const o=e();return completeUpdates(n),o}catch(o){n||(Effects=null),Updates=null,handleError(o)}}function completeUpdates(e){if(Updates&&(runQueue(Updates),Updates=null),e)return;const t=Effects;Effects=null,t.length&&runUpdates(()=>runEffects(t),!1)}function runQueue(e){for(let t=0;t<e.length;t++)runTop(e[t])}function runUserEffects(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:runTop(o)}for(t=0;t<n;t++)runTop(e[t])}function lookUpstream(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const o=e.sources[n];if(o.sources){const l=o.state;l===STALE?o!==t&&(!o.updatedAt||o.updatedAt<ExecCount)&&runTop(o):l===PENDING&&lookUpstream(o,t)}}}function markDownstream(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=PENDING,n.pure?Updates.push(n):Effects.push(n),n.observers&&markDownstream(n))}}function cleanNode(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),o=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const s=l.pop(),u=n.observerSlots.pop();o<l.length&&(s.sourceSlots[u]=o,l[o]=s,n.observerSlots[o]=u)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)cleanNode(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function castError(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function handleError(e,t=Owner){throw castError(e)}function resolveChildren(e){if(typeof e=="function"&&!e.length)return resolveChildren(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const o=resolveChildren(e[n]);Array.isArray(o)?t.push.apply(t,o):t.push(o)}return t}return e}function createProvider(e,t){return function(o){let l;return createRenderEffect(()=>l=untrack(()=>(Owner.context={...Owner.context,[e]:o.value},children(()=>o.children))),void 0),l}}const FALLBACK=Symbol("fallback");function dispose(e){for(let t=0;t<e.length;t++)e[t]()}function mapArray(e,t,n={}){let o=[],l=[],s=[],u=0,a=t.length>1?[]:null;return onCleanup(()=>dispose(s)),()=>{let h=e()||[],f,S;return h[$TRACK],untrack(()=>{let v=h.length,$,E,I,R,P,N,b,A,d;if(v===0)u!==0&&(dispose(s),s=[],o=[],l=[],u=0,a&&(a=[])),n.fallback&&(o=[FALLBACK],l[0]=createRoot(i=>(s[0]=i,n.fallback())),u=1);else if(u===0){for(l=new Array(v),S=0;S<v;S++)o[S]=h[S],l[S]=createRoot(y);u=v}else{for(I=new Array(v),R=new Array(v),a&&(P=new Array(v)),N=0,b=Math.min(u,v);N<b&&o[N]===h[N];N++);for(b=u-1,A=v-1;b>=N&&A>=N&&o[b]===h[A];b--,A--)I[A]=l[b],R[A]=s[b],a&&(P[A]=a[b]);for($=new Map,E=new Array(A+1),S=A;S>=N;S--)d=h[S],f=$.get(d),E[S]=f===void 0?-1:f,$.set(d,S);for(f=N;f<=b;f++)d=o[f],S=$.get(d),S!==void 0&&S!==-1?(I[S]=l[f],R[S]=s[f],a&&(P[S]=a[f]),S=E[S],$.set(d,S)):s[f]();for(S=N;S<v;S++)S in I?(l[S]=I[S],s[S]=R[S],a&&(a[S]=P[S],a[S](S))):l[S]=createRoot(y);l=l.slice(0,u=v),o=h.slice(0)}return l});function y(v){if(s[S]=v,a){const[$,E]=createSignal(S);return a[S]=E,t(h[S],$)}return t(h[S])}}}function indexArray(e,t,n={}){let o=[],l=[],s=[],u=[],a=0,h;return onCleanup(()=>dispose(s)),()=>{const f=e()||[];return f[$TRACK],untrack(()=>{if(f.length===0)return a!==0&&(dispose(s),s=[],o=[],l=[],a=0,u=[]),n.fallback&&(o=[FALLBACK],l[0]=createRoot(y=>(s[0]=y,n.fallback())),a=1),l;for(o[0]===FALLBACK&&(s[0](),s=[],o=[],l=[],a=0),h=0;h<f.length;h++)h<o.length&&o[h]!==f[h]?u[h](()=>f[h]):h>=o.length&&(l[h]=createRoot(S));for(;h<o.length;h++)s[h]();return a=u.length=s.length=f.length,o=f.slice(0),l=l.slice(0,a)});function S(y){s[h]=y;const[v,$]=createSignal(f[h]);return u[h]=$,t(v,h)}}}function createComponent(e,t){return untrack(()=>e(t||{}))}function trueFn(){return!0}const propTraps={get(e,t,n){return t===$PROXY?n:e.get(t)},has(e,t){return t===$PROXY?!0:e.has(t)},set:trueFn,deleteProperty:trueFn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:trueFn,deleteProperty:trueFn}},ownKeys(e){return e.keys()}};function resolveSource(e){return(e=typeof e=="function"?e():e)?e:{}}function resolveSources(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function mergeProps(...e){let t=!1;for(let u=0;u<e.length;u++){const a=e[u];t=t||!!a&&$PROXY in a,e[u]=typeof a=="function"?(t=!0,createMemo(a)):a}if(t)return new Proxy({get(u){for(let a=e.length-1;a>=0;a--){const h=resolveSource(e[a])[u];if(h!==void 0)return h}},has(u){for(let a=e.length-1;a>=0;a--)if(u in resolveSource(e[a]))return!0;return!1},keys(){const u=[];for(let a=0;a<e.length;a++)u.push(...Object.keys(resolveSource(e[a])));return[...new Set(u)]}},propTraps);const n={},o=Object.create(null);for(let u=e.length-1;u>=0;u--){const a=e[u];if(!a)continue;const h=Object.getOwnPropertyNames(a);for(let f=h.length-1;f>=0;f--){const S=h[f];if(S==="__proto__"||S==="constructor")continue;const y=Object.getOwnPropertyDescriptor(a,S);if(!o[S])o[S]=y.get?{enumerable:!0,configurable:!0,get:resolveSources.bind(n[S]=[y.get.bind(a)])}:y.value!==void 0?y:void 0;else{const v=n[S];v&&(y.get?v.push(y.get.bind(a)):y.value!==void 0&&v.push(()=>y.value))}}}const l={},s=Object.keys(o);for(let u=s.length-1;u>=0;u--){const a=s[u],h=o[a];h&&h.get?Object.defineProperty(l,a,h):l[a]=h?h.value:void 0}return l}function splitProps(e,...t){if($PROXY in e){const l=new Set(t.length>1?t.flat():t[0]),s=t.map(u=>new Proxy({get(a){return u.includes(a)?e[a]:void 0},has(a){return u.includes(a)&&a in e},keys(){return u.filter(a=>a in e)}},propTraps));return s.push(new Proxy({get(u){return l.has(u)?void 0:e[u]},has(u){return l.has(u)?!1:u in e},keys(){return Object.keys(e).filter(u=>!l.has(u))}},propTraps)),s}const n={},o=t.map(()=>({}));for(const l of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,l),u=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let a=!1,h=0;for(const f of t)f.includes(l)&&(a=!0,u?o[h][l]=s.value:Object.defineProperty(o[h],l,s)),++h;a||(u?n[l]=s.value:Object.defineProperty(n,l,s))}return[...o,n]}const narrowedError=e=>`Stale read from <${e}>.`;function For(e){const t="fallback"in e&&{fallback:()=>e.fallback};return createMemo(mapArray(()=>e.each,e.children,t||void 0))}function Index(e){const t="fallback"in e&&{fallback:()=>e.fallback};return createMemo(indexArray(()=>e.each,e.children,t||void 0))}function Show(e){const t=e.keyed,n=createMemo(()=>e.when,void 0,{equals:(o,l)=>t?o===l:!o==!l});return createMemo(()=>{const o=n();if(o){const l=e.children;return typeof l=="function"&&l.length>0?untrack(()=>l(t?o:()=>{if(!untrack(n))throw narrowedError("Show");return e.when})):l}return e.fallback},void 0,void 0)}const booleans=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Properties=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...booleans]),ChildProperties=new Set(["innerHTML","textContent","innerText","children"]),Aliases=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),PropAliases=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function getPropAlias(e,t){const n=PropAliases[e];return typeof n=="object"?n[t]?n.$:void 0:n}const DelegatedEvents=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);function reconcileArrays(e,t,n){let o=n.length,l=t.length,s=o,u=0,a=0,h=t[l-1].nextSibling,f=null;for(;u<l||a<s;){if(t[u]===n[a]){u++,a++;continue}for(;t[l-1]===n[s-1];)l--,s--;if(l===u){const S=s<o?a?n[a-1].nextSibling:n[s-a]:h;for(;a<s;)e.insertBefore(n[a++],S)}else if(s===a)for(;u<l;)(!f||!f.has(t[u]))&&t[u].remove(),u++;else if(t[u]===n[s-1]&&n[a]===t[l-1]){const S=t[--l].nextSibling;e.insertBefore(n[a++],t[u++].nextSibling),e.insertBefore(n[--s],S),t[l]=n[s]}else{if(!f){f=new Map;let y=a;for(;y<s;)f.set(n[y],y++)}const S=f.get(t[u]);if(S!=null)if(a<S&&S<s){let y=u,v=1,$;for(;++y<l&&y<s&&!(($=f.get(t[y]))==null||$!==S+v);)v++;if(v>S-a){const E=t[u];for(;a<S;)e.insertBefore(n[a++],E)}else e.replaceChild(n[a++],t[u++])}else u++;else t[u++].remove()}}}const $$EVENTS="_$DX_DELEGATE";function render(e,t,n,o={}){let l;return createRoot(s=>{l=s,t===document?e():insert(t,e(),t.firstChild?null:void 0,n)},o.owner),()=>{l(),t.textContent=""}}function template(e,t,n){let o;const l=()=>{const u=document.createElement("template");return u.innerHTML=e,u.content.firstChild},s=()=>(o||(o=l())).cloneNode(!0);return s.cloneNode=s,s}function delegateEvents(e,t=window.document){const n=t[$$EVENTS]||(t[$$EVENTS]=new Set);for(let o=0,l=e.length;o<l;o++){const s=e[o];n.has(s)||(n.add(s),t.addEventListener(s,eventHandler))}}function setAttribute(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function className(e,t){t==null?e.removeAttribute("class"):e.className=t}function addEventListener(e,t,n,o){if(o)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const l=n[0];e.addEventListener(t,n[0]=s=>l.call(e,n[1],s))}else e.addEventListener(t,n)}function classList(e,t,n={}){const o=Object.keys(t||{}),l=Object.keys(n);let s,u;for(s=0,u=l.length;s<u;s++){const a=l[s];!a||a==="undefined"||t[a]||(toggleClassKey(e,a,!1),delete n[a])}for(s=0,u=o.length;s<u;s++){const a=o[s],h=!!t[a];!a||a==="undefined"||n[a]===h||!h||(toggleClassKey(e,a,!0),n[a]=h)}return n}function style(e,t,n){if(!t)return n?setAttribute(e,"style"):t;const o=e.style;if(typeof t=="string")return o.cssText=t;typeof n=="string"&&(o.cssText=n=void 0),n||(n={}),t||(t={});let l,s;for(s in n)t[s]==null&&o.removeProperty(s),delete n[s];for(s in t)l=t[s],l!==n[s]&&(o.setProperty(s,l),n[s]=l);return n}function spread(e,t={},n,o){const l={};return o||createRenderEffect(()=>l.children=insertExpression(e,t.children,l.children)),createRenderEffect(()=>typeof t.ref=="function"?use(t.ref,e):t.ref=e),createRenderEffect(()=>assign(e,t,n,!0,l,!0)),l}function use(e,t,n){return untrack(()=>e(t,n))}function insert(e,t,n,o){if(n!==void 0&&!o&&(o=[]),typeof t!="function")return insertExpression(e,t,o,n);createRenderEffect(l=>insertExpression(e,t(),l,n),o)}function assign(e,t,n,o,l={},s=!1){t||(t={});for(const u in l)if(!(u in t)){if(u==="children")continue;l[u]=assignProp(e,u,null,l[u],n,s)}for(const u in t){if(u==="children")continue;const a=t[u];l[u]=assignProp(e,u,a,l[u],n,s)}}function toPropertyName(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function toggleClassKey(e,t,n){const o=t.trim().split(/\s+/);for(let l=0,s=o.length;l<s;l++)e.classList.toggle(o[l],n)}function assignProp(e,t,n,o,l,s){let u,a,h,f,S;if(t==="style")return style(e,n,o);if(t==="classList")return classList(e,n,o);if(n===o)return o;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const y=t.slice(3);o&&e.removeEventListener(y,o),n&&e.addEventListener(y,n)}else if(t.slice(0,10)==="oncapture:"){const y=t.slice(10);o&&e.removeEventListener(y,o,!0),n&&e.addEventListener(y,n,!0)}else if(t.slice(0,2)==="on"){const y=t.slice(2).toLowerCase(),v=DelegatedEvents.has(y);if(!v&&o){const $=Array.isArray(o)?o[0]:o;e.removeEventListener(y,$)}(v||n)&&(addEventListener(e,y,n,v),v&&delegateEvents([y]))}else t.slice(0,5)==="attr:"?setAttribute(e,t.slice(5),n):(S=t.slice(0,5)==="prop:")||(h=ChildProperties.has(t))||(f=getPropAlias(t,e.tagName))||(a=Properties.has(t))||(u=e.nodeName.includes("-"))?(S&&(t=t.slice(5),a=!0),t==="class"||t==="className"?className(e,n):u&&!a&&!h?e[toPropertyName(t)]=n:e[f||t]=n):setAttribute(e,Aliases[t]||t,n);return n}function eventHandler(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const o=n[t];if(o&&!n.disabled){const l=n[`${t}Data`];if(l!==void 0?o.call(n,l,e):o.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function insertExpression(e,t,n,o,l){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,u=o!==void 0;if(e=u&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),u){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=cleanChildren(e,n,o,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=cleanChildren(e,n,o);else{if(s==="function")return createRenderEffect(()=>{let a=t();for(;typeof a=="function";)a=a();n=insertExpression(e,a,n,o)}),()=>n;if(Array.isArray(t)){const a=[],h=n&&Array.isArray(n);if(normalizeIncomingArray(a,t,n,l))return createRenderEffect(()=>n=insertExpression(e,a,n,o,!0)),()=>n;if(a.length===0){if(n=cleanChildren(e,n,o),u)return n}else h?n.length===0?appendNodes(e,a,o):reconcileArrays(e,n,a):(n&&cleanChildren(e),appendNodes(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(u)return n=cleanChildren(e,n,o,t);cleanChildren(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function normalizeIncomingArray(e,t,n,o){let l=!1;for(let s=0,u=t.length;s<u;s++){let a=t[s],h=n&&n[e.length],f;if(!(a==null||a===!0||a===!1))if((f=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))l=normalizeIncomingArray(e,a,h)||l;else if(f==="function")if(o){for(;typeof a=="function";)a=a();l=normalizeIncomingArray(e,Array.isArray(a)?a:[a],Array.isArray(h)?h:[h])||l}else e.push(a),l=!0;else{const S=String(a);h&&h.nodeType===3&&h.data===S?e.push(h):e.push(document.createTextNode(S))}}return l}function appendNodes(e,t,n=null){for(let o=0,l=t.length;o<l;o++)e.insertBefore(t[o],n)}function cleanChildren(e,t,n,o){if(n===void 0)return e.textContent="";const l=o||document.createTextNode("");if(t.length){let s=!1;for(let u=t.length-1;u>=0;u--){const a=t[u];if(l!==a){const h=a.parentNode===e;!s&&!u?h?e.replaceChild(l,a):e.insertBefore(l,n):h&&a.remove()}else s=!0}}else e.insertBefore(l,n);return[l]}var _tmpl$$3=template("<span>"),cursor=(e,t)=>new Promise(n=>{const o={x:e.clientX,y:e.clientY};let l=o;const s=performance.now();function u(h){const f={x:h.clientX,y:h.clientY},S={x:f.x-l.x,y:f.y-l.y},y={x:o.x-f.x,y:o.y-f.y};l=f;const v={total:y,delta:S,event:h,timespan:performance.now()-s};return t(v),v}const a=h=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",a),n(u(h))};window.addEventListener("mousemove",u),window.addEventListener("mouseup",a)});function mergeRefs(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):"ref"in n&&n.ref&&(typeof n.ref=="function"?n.ref(t):n.ref=t)})}}function withContext(e,t,n){let o;return t.Provider({value:n,children:()=>(o=e(),"")}),()=>o}var propsMap=new WeakMap,handleSet=new WeakSet,NO_OVERFLOW=Symbol("no-overflow"),isPercentageSize=e=>e.endsWith("%"),isFractionSize=e=>e.endsWith("fr"),isPixelSize=e=>e.endsWith("px"),isPixelProps=e=>isPixelSize(e.size),isFractionProps=e=>isFractionSize(e.size),getProps=e=>propsMap.get(e),isNotHandle=e=>!handleSet.has(e);function resolveNode(e){if(typeof e=="function"){const t=e();return resolveNode(t)}return e}function getNeigboringPanes(e,t){const n=e.indexOf(t);if(n===-1||n===0||n===e.length-1)return;const o=e.slice(0,n).findLast(isNotHandle),l=e.slice(n).find(isNotHandle);if(!(!o||!l))return[o,l]}function Base(e){const t=useSplit(),n=mergeProps({size:"1fr"},e),[,o]=splitProps(e,["size","min","max","style","ref"]);let l;const s=(()=>{var u=_tmpl$$3(),a=mergeRefs(e,h=>l=h);return typeof a=="function"&&use(a,u),spread(u,mergeProps({get style(){return{overflow:"hidden",...e.style}}},o,{get"data-active-pane"(){return t?.isActivePane(l)||void 0}}),!1,!0),insert(u,()=>e.children),u})();return propsMap.set(s,n),s}var splitContext=createContext();function useSplit(){return useContext(splitContext)}function Split(e){const t=mergeProps({type:"column"},e),[,n]=splitProps(e,["type","style","ref"]),[o,l]=createSignal(),[s,u]=createSignal(void 0),[a,h]=createSignal(new WeakMap,{equals:!1}),[f,S]=createSignal(),y=()=>(t.type==="column"?o()?.width:o()?.height)||0;function v(w,T){h(k=>(k.set(w,(k.get(w)||0)-T),k))}function $(w,T=0){return isPercentageSize(w)?(parseFloat(w)-T)/100*y():parseFloat(w)-T}function E(w){const T=getProps(w),k=P(w);return!T||isFractionProps(T)?0:$(T.size,k)}function I(){const w=b(),T=_().reduce((k,L)=>k+parseFloat(getProps(L).size),0);if(T===0)return 0;if(T<1){const k=w-w*T;return w/(T+k/w)}else return w/T}function R(w){const T=getProps(w),k=P(w);return!T||!isFractionProps(T)?0:(parseFloat(T.size)-k)*I()}function P(w){return a().get(w)||0}function N(){return m().reduce((w,T)=>w+E(T),0)}function b(){return y()-N()}function A(w,T,k){const L=_(),W=L.indexOf(w),z=L.map(R);let U=isPixelProps(getProps(T))?k:k/y()*100;v(T,U),(z[W]-=k)<0&&(v(T,-U),z[W]=0);const ee=z.reduce((V,oe)=>V+oe,0),Z=L.map(getProps).reduce((V,oe)=>V+parseFloat(oe.size),0),X=z.map(V=>V*Z/ee).map((V,oe)=>parseFloat(getProps(L[oe]).size)-V);h(V=>(X.forEach((oe,M)=>{V.set(L[M],oe)}),V))}function d(w,T){const k=getProps(w),L=P(w);if(!isFractionProps(k))return 0;const W=parseFloat(k.size)-L+T;return W<0?W:0}function i(w,T){const k=getProps(w),L=P(w);if(isFractionProps(k))return 0;const z=$(k.size,L)+T;if(k.max){const U=$(k.max);if(z<U)return z-U}if(k.min){const U=$(k.min);if(z>U)return z-U}return z>0?0:z}const p={isActivePane:createSelector(s,(w,T)=>isNotHandle(w)&&!!T?.includes(w)),get type(){return t.type},dragHandleStart(w){return u(getNeigboringPanes(c(),w))},dragHandle([w,T],k){if(k===0)return NO_OVERFLOW;const L=getProps(w),W=getProps(T),z=isFractionProps(L),U=isFractionProps(W);let Q=k/I();const ee=z?d(w,Q)*I():i(w,k),Z=U?d(T,-Q)*I():i(T,-k);return k=ee?k-ee:Z?k+Z:k,Q=k/I(),z&&U?(v(w,Q),v(T,-Q)):!z&&!U?(v(w,isPixelProps(L)?k:k/y()*100),v(T,isPixelProps(W)?-k:-k/y()*100)):z?A(w,T,-k):A(T,w,k),!ee&&!Z?NO_OVERFLOW:Math.abs(ee)>Math.abs(Z)?ee:-Z},dragHandleEnd(){u(void 0)}},g=children(withContext(()=>e.children,splitContext,p)),c=createMemo(()=>g.toArray().filter(w=>propsMap.has(w))),_=()=>c().filter(w=>isFractionProps(getProps(w))),m=()=>c().filter(w=>!isFractionProps(getProps(w))),C=()=>c().map(w=>{const T=getProps(w),k=P(w);if(isFractionProps(T))return k?`${parseFloat(T.size)-k}fr`:T.size;const L=k?`calc(${parseFloat(T.size)-k}${isPixelProps(T)?"px":"%"})`:T.size;return T.min?T.max?`min(${T.min}, max(${T.max}, ${L}))`:`min(${T.min}, ${L})`:T.max?`max(${T.max}, ${L})`:L}).join(" ");return createEffect(()=>{const w=f();if(!w)return;const T=new ResizeObserver(k=>{for(let L of k)l(L.contentRect),e.onResize?.(L.contentRect,w)});T.observe(w),onCleanup(()=>T.disconnect())}),createSignal(mapArray(c,w=>{createEffect(on(()=>getProps(w)?.size,()=>{h(T=>(T.set(w,0),T))}))})),createEffect(()=>e.onTemplate?.(C())),createComponent(Base,mergeProps({ref(w){var T=mergeRefs(S,e);typeof T=="function"&&T(w)},get style(){return{display:"grid",...e.style,[`grid-template-${t.type}s`]:C()}}},n,{get children(){return c()}}))}function Pane(e){if(!useSplit())throw"Split.Pane should be used within a Split-component";return createComponent(Base,e)}function Handle(e){const t=useSplit();if(!t)throw"Split.Handle should be used within a Split-component";const[n,o]=createSignal(!1),l=createComponent(Base,mergeProps(e,{get"data-active-handle"(){return n()||void 0},onPointerDown:async s=>{let u={x:0,y:0};o(!0);const a=t.dragHandleStart(resolveNode(l));a&&(await cursor(s,({delta:h})=>{const f=t.dragHandle(a,t.type==="column"?h.x+u.x:h.y+u.y);f===NO_OVERFLOW?u={x:0,y:0}:(u.x+=t.type==="column"?h.x:f,u.y+=t.type!=="column"?h.y:f)}),t.dragHandleEnd(),o(!1))}}));return handleSet.add(resolveNode(l)),l}Split.Handle=Handle;Split.Pane=Pane;const $RAW=Symbol("store-raw"),$NODE=Symbol("store-node"),$HAS=Symbol("store-has"),$SELF=Symbol("store-self");function wrap$1(e){let t=e[$PROXY];if(!t&&(Object.defineProperty(e,$PROXY,{value:t=new Proxy(e,proxyTraps$1)}),!Array.isArray(e))){const n=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let l=0,s=n.length;l<s;l++){const u=n[l];o[u].get&&Object.defineProperty(e,u,{enumerable:o[u].enumerable,get:o[u].get.bind(t)})}}return t}function isWrappable(e){let t;return e!=null&&typeof e=="object"&&(e[$PROXY]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function unwrap(e,t=new Set){let n,o,l,s;if(n=e!=null&&e[$RAW])return n;if(!isWrappable(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let u=0,a=e.length;u<a;u++)l=e[u],(o=unwrap(l,t))!==l&&(e[u]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const u=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let h=0,f=u.length;h<f;h++)s=u[h],!a[s].get&&(l=e[s],(o=unwrap(l,t))!==l&&(e[s]=o))}return e}function getNodes(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function getNode(e,t,n){if(e[t])return e[t];const[o,l]=createSignal(n,{equals:!1,internal:!0});return o.$=l,e[t]=o}function proxyDescriptor$1(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===$PROXY||t===$NODE||(delete n.value,delete n.writable,n.get=()=>e[$PROXY][t]),n}function trackSelf(e){getListener()&&getNode(getNodes(e,$NODE),$SELF)()}function ownKeys(e){return trackSelf(e),Reflect.ownKeys(e)}const proxyTraps$1={get(e,t,n){if(t===$RAW)return e;if(t===$PROXY)return n;if(t===$TRACK)return trackSelf(e),n;const o=getNodes(e,$NODE),l=o[t];let s=l?l():e[t];if(t===$NODE||t===$HAS||t==="__proto__")return s;if(!l){const u=Object.getOwnPropertyDescriptor(e,t);getListener()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(u&&u.get)&&(s=getNode(o,t,s)())}return isWrappable(s)?wrap$1(s):s},has(e,t){return t===$RAW||t===$PROXY||t===$TRACK||t===$NODE||t===$HAS||t==="__proto__"?!0:(getListener()&&getNode(getNodes(e,$HAS),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys,getOwnPropertyDescriptor:proxyDescriptor$1};function setProperty(e,t,n,o=!1){if(!o&&e[t]===n)return;const l=e[t],s=e.length;n===void 0?(delete e[t],e[$HAS]&&e[$HAS][t]&&l!==void 0&&e[$HAS][t].$()):(e[t]=n,e[$HAS]&&e[$HAS][t]&&l===void 0&&e[$HAS][t].$());let u=getNodes(e,$NODE),a;if((a=getNode(u,t,l))&&a.$(()=>n),Array.isArray(e)&&e.length!==s){for(let h=e.length;h<s;h++)(a=u[h])&&a.$();(a=getNode(u,"length",s))&&a.$(e.length)}(a=u[$SELF])&&a.$()}function mergeStoreNode(e,t){const n=Object.keys(t);for(let o=0;o<n.length;o+=1){const l=n[o];setProperty(e,l,t[l])}}function updateArray(e,t){if(typeof t=="function"&&(t=t(e)),t=unwrap(t),Array.isArray(t)){if(e===t)return;let n=0,o=t.length;for(;n<o;n++){const l=t[n];e[n]!==l&&setProperty(e,n,l)}setProperty(e,"length",o)}else mergeStoreNode(e,t)}function updatePath(e,t,n=[]){let o,l=e;if(t.length>1){o=t.shift();const u=typeof o,a=Array.isArray(e);if(Array.isArray(o)){for(let h=0;h<o.length;h++)updatePath(e,[o[h]].concat(t),n);return}else if(a&&u==="function"){for(let h=0;h<e.length;h++)o(e[h],h)&&updatePath(e,[h].concat(t),n);return}else if(a&&u==="object"){const{from:h=0,to:f=e.length-1,by:S=1}=o;for(let y=h;y<=f;y+=S)updatePath(e,[y].concat(t),n);return}else if(t.length>1){updatePath(e[o],t,[o].concat(n));return}l=e[o],n=[o].concat(n)}let s=t[0];typeof s=="function"&&(s=s(l,n),s===l)||o===void 0&&s==null||(s=unwrap(s),o===void 0||isWrappable(l)&&isWrappable(s)&&!Array.isArray(s)?mergeStoreNode(l,s):setProperty(e,o,s))}function createStore(...[e,t]){const n=unwrap(e||{}),o=Array.isArray(n),l=wrap$1(n);function s(...u){batch(()=>{o&&u.length===1?updateArray(n,u[0]):updatePath(n,u)})}return[l,s]}const producers=new WeakMap,setterTraps={get(e,t){if(t===$RAW)return e;const n=e[t];let o;return isWrappable(n)?producers.get(n)||(producers.set(n,o=new Proxy(n,setterTraps)),o):n},set(e,t,n){return setProperty(e,t,unwrap(n)),!0},deleteProperty(e,t){return setProperty(e,t,void 0,!0),!0}};function produce(e){return t=>{if(isWrappable(t)){let n;(n=producers.get(t))||producers.set(t,n=new Proxy(t,setterTraps)),e(n)}return t}}function normalizePath(e){return e.replace(/^\/+/,"")}function getParentDirectory(e){return e.split("/").slice(0,-1).join("/")}function getNameFromPath(e){const t=e.split("/");return t[t.length-1]||""}function createFile(e){const[t,n]=createSignal(e);return{type:"file",get:t,set:n}}function createFileSystem(){const[e,t]=createStore({});function n(s){const u=s.split("/");if(!u.map((h,f)=>u.slice(0,f+1).join("/")).filter(Boolean).every(h=>h in e))throw`Path is invalid ${s}`}function o(s,u){return s=normalizePath(s),n(s),u?.withFileTypes?Object.entries(e).filter(([a])=>getParentDirectory(a)===s).map(([a,h])=>({type:h.type,path:a})):Object.keys(e).filter(a=>getParentDirectory(a)===s)}return{exists(s){return s in e},getType(s){return s=normalizePath(s),n(s),e[s].type},readdir:o,mkdir(s,u){if(s=normalizePath(s),u?.recursive){const a=s.split("/");a.forEach((h,f)=>{t(a.slice(0,f).join("/"),{type:"dir"})});return}n(getParentDirectory(s)),t(s,{type:"dir"})},readFile(s){s=normalizePath(s),n(s);const u=e[s];if(u.type==="dir")throw`Path is not a file ${s}`;return u.get()},rename(s,u){s=normalizePath(s),u=normalizePath(u),n(s),t(produce(a=>{Object.keys(e).forEach(h=>{if(h.startsWith(s)){const f=h.replace(s,u),S=a[h];a[f]=S,delete a[h]}})}))},rm(s,u){if(s=normalizePath(s),(!u||!u.force)&&n(s),!u||!u.recursive){const a=Object.keys(e).filter(h=>h===s?!1:h.includes(s));if(a.length>0)throw`Directory is not empty ${a}`}t(produce(a=>{Object.keys(a).filter(h=>h.includes(s)).forEach(h=>delete a[h])}))},writeFile(s,u){s=normalizePath(s),n(getParentDirectory(s));const a=e[s];if(a?.type==="dir")throw`A directory already exist with the same name: ${s}`;a?a.set(u):t(s,createFile(u))}}}const toFunction=e=>(...t)=>{const n=e();return typeof n=="function"?n(...t):n};function repeat(e,t,n={}){let o=[],l=[],s=0;onCleanup(()=>o.forEach(f=>f()));const u=f=>{if(f===0)return o.forEach(S=>S()),n.fallback?createRoot(S=>(o=[S],l=[n.fallback()])):(o=[],l=[]);if(s===0){o[0]&&o[0]();for(let S=0;S<f;S++)l[S]=createRoot(a.bind(void 0,S));return l}{const S=s-f;if(S>0){for(let y=s-1;y>=f;y--)o[y]();return l.splice(f,S),o.splice(f,S),l}}for(let S=s;S<f;S++)l[S]=createRoot(a.bind(void 0,S));return l},a=(f,S)=>(o[f]=S,t(f)),h=createMemo(()=>Math.floor(Math.max(e(),0)));return()=>{const f=h();return untrack(()=>{const S=u(f);return s=f,S})}}function Repeat(e){return createMemo(repeat(()=>e.times,toFunction(()=>e.children),"fallback"in e?{fallback:()=>e.fallback}:void 0))}const triggerOptions={equals:!1},triggerCacheOptions=triggerOptions;class TriggerCache{#e;constructor(t=Map){this.#e=new t}dirty(t){this.#e.get(t)?.$$()}dirtyAll(){for(const t of this.#e.values())t.$$()}track(t){if(!getListener())return;let n=this.#e.get(t);if(n)n.n++;else{const[o,l]=createSignal(void 0,triggerCacheOptions);this.#e.set(t,n={$:o,$$:l,n:1})}onCleanup(()=>{--n.n===0&&queueMicrotask(()=>n.n===0&&this.#e.delete(t))}),n.$()}}const $KEYS=Symbol("track-keys");class ReactiveSet extends Set{#e=new TriggerCache;constructor(t){if(super(),t)for(const n of t)super.add(n)}[Symbol.iterator](){return this.values()}get size(){return this.#e.track($KEYS),super.size}has(t){return this.#e.track(t),super.has(t)}keys(){return this.values()}*values(){this.#e.track($KEYS);for(const t of super.values())yield t}*entries(){this.#e.track($KEYS);for(const t of super.entries())yield t}forEach(t,n){this.#e.track($KEYS),super.forEach(t,n)}add(t){return super.has(t)||(super.add(t),batch(()=>{this.#e.dirty(t),this.#e.dirty($KEYS)})),this}delete(t){const n=super.delete(t);return n&&batch(()=>{this.#e.dirty(t),this.#e.dirty($KEYS)}),n}clear(){super.size&&(super.clear(),batch(()=>{this.#e.dirtyAll()}))}}function r$1(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=r$1(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function clsx$1(){for(var e,t,n=0,o="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=r$1(e))&&(o&&(o+=" "),o+=t);return o}const tree="_tree_1b0ln_1",cell="_cell_1b0ln_9",styles$2={tree,cell};var _tmpl$$2=template("<div data-fs-tree>"),_tmpl$2$2=template("<div>"),_tmpl$3$1=template("<span>"),_tmpl$4$1=template("<button data-fs-cell=dir><span>"),_tmpl$5$1=template("<button data-fs-cell=file><div>");function FileTree(e){const[,t]=splitProps(e,["class","components","fs","onPathSelect","selectedPath"]),n=mergeProps({File,Dir,IndentGuide},e.components),o=new ReactiveSet,l=createSelector(()=>e.selectedPath);function s(h){return createComponent(Repeat,{get times(){return h.layer-1},children:f=>createComponent(n.IndentGuide,{get path(){return h.path},layer:f,get count(){return h.layer-2},get type(){return h.type}})})}function u(h){const f=()=>e.fs.readdir(h.path,{withFileTypes:!0}).sort(e.sort||((S,y)=>S.type===y.type?S.path<y.path?-1:1:S.type==="dir"?-1:1));return[createComponent(Show,{get when(){return h.path},get children(){return createComponent(n.Dir,{get layer(){return h.layer},get path(){return h.path},get collapsed(){return!o.has(h.path)},get indentGuides(){return createComponent(s,{get layer(){return h.layer},get path(){return h.path},type:"dir"})},onClick:()=>{o.has(h.path)?o.delete(h.path):o.add(h.path)},get selected(){return l(h.path)}})}}),createComponent(Show,{get when(){return h.layer===0||o.has(h.path)},get children(){return createComponent(Index,{get each(){return f()},children:S=>createComponent(a,{get layer(){return h.layer+1},get path(){return S().path},get type(){return S().type}})})}})]}function a(h){return createComponent(Show,{get when(){return h.type==="dir"},get children(){return createComponent(u,{get layer(){return h.layer},get path(){return h.path}})},get fallback(){return createComponent(n.File,{get layer(){return h.layer},get path(){return h.path},get selected(){return l(h.path)},onClick:()=>e.onPathSelect?.(h.path),get indentGuides(){return createComponent(s,{get layer(){return h.layer},get path(){return h.path},type:"file"})}})}})}return(()=>{var h=_tmpl$$2();return spread(h,mergeProps({get class(){return clsx$1(styles$2.tree,e.class)}},t),!1,!0),insert(h,createComponent(a,{path:"",layer:0,type:"dir"})),h})()}function IndentGuide(e){return(()=>{var t=_tmpl$2$2();return t.style.setProperty("position","relative"),insert(t,createComponent(Show,{get when(){return e.layer===e.count},get fallback(){return(()=>{var n=_tmpl$2$2();return n.style.setProperty("position","absolute"),n.style.setProperty("width","100%"),n.style.setProperty("top","0%"),n.style.setProperty("left","calc(50% - 0.5px)"),n.style.setProperty("border-left","1px solid var(--fs-indent-guide-color, black)"),n.style.setProperty("height","100%"),n})()},get children(){return[(()=>{var n=_tmpl$2$2();return n.style.setProperty("position","absolute"),n.style.setProperty("left","calc(50% - 0.5px)"),n.style.setProperty("width","calc(50% - 0.5px)"),n.style.setProperty("height","50%"),n.style.setProperty("border-left","1px solid var(--fs-indent-guide-color, black)"),n.style.setProperty("border-bottom","1px solid var(--fs-indent-guide-color, black)"),n.style.setProperty("border-bottom-left-radius","2px"),n})(),(()=>{var n=_tmpl$2$2();return n.style.setProperty("position","absolute"),n.style.setProperty("left","calc(50% - 0.5px)"),n.style.setProperty("width","calc(50% - 0.5px)"),n.style.setProperty("border-left","1px solid var(--fs-indent-guide-color, black)"),n.style.setProperty("height","100%"),n})()]}})),createRenderEffect(()=>setAttribute(t,"data-fs-indent-guide",e.layer===e.count?"vertical":"connection")),t})()}function Dir(e){const[,t]=splitProps(e,["style","class","collapsed","indentGuides","layer","onClick","path","selected","components"]),n=mergeProps({Prefix:o=>(()=>{var l=_tmpl$3$1();return l.style.setProperty("text-align","center"),l.style.setProperty("flex","0 var(--fs-indent-guide-width, 15px)"),insert(l,()=>o.collapsed?"+":"â€“"),l})()},()=>e.components);return(()=>{var o=_tmpl$4$1(),l=o.firstChild;return spread(o,mergeProps({get class(){return clsx$1(styles$2.cell,e.class)},get"aria-selected"(){return e.selected||void 0},get"aria-collapsed"(){return e.collapsed||void 0},get style(){return{"grid-template-columns":`repeat(${e.layer}, var(--fs-indent-guide-width, 15px)) 1fr`,...e.style}},get onClick(){return e.onClick}},t),!1,!0),insert(o,()=>e.indentGuides,l),insert(o,createComponent(n.Prefix,{get collapsed(){return e.collapsed}}),l),insert(l,()=>getNameFromPath(e.path)),o})()}function File(e){return(()=>{var t=_tmpl$5$1(),n=t.firstChild;return addEventListener(t,"click",e.onClick,!0),insert(t,()=>e.indentGuides,n),n.style.setProperty("padding-left","7.5px"),insert(n,()=>getNameFromPath(e.path)),createRenderEffect(o=>{var l=styles$2.cell,s=e.selected||void 0,u=`repeat(${e.layer-1}, var(--fs-indent-guide-width, 15px)) 1fr`;return l!==o.e&&className(t,o.e=l),s!==o.t&&setAttribute(t,"data-fs-selected",o.t=s),u!==o.a&&((o.a=u)!=null?t.style.setProperty("grid-template-columns",u):t.style.removeProperty("grid-template-columns")),o},{e:void 0,t:void 0,a:void 0}),t})()}delegateEvents(["click"]);let CDN="https://esm.sh";const CACHE={theme:{},grammar:{}};function urlFromCDN(e,t){switch(e){case"theme":return`${CDN}/tm-themes/themes/${t}.json`;case"grammar":return`${CDN}/tm-grammars/grammars/${t}.json`;case"oniguruma":return`${CDN}/vscode-oniguruma/release/onig.wasm`}}async function fetchFromCDN(e,t){if(t in CACHE[e])return CACHE[e][t];const n=urlFromCDN(e,t);return CACHE[e][t]=typeof n!="string"?n:fetch(n).then(o=>o.ok?o.json():null).catch(console.error)}var define_process_env_default={},__defProp=Object.defineProperty,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__publicField=(e,t,n)=>(__defNormalProp(e,t+"",n),n),__accessCheck=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},__privateGet=(e,t,n)=>(__accessCheck(e,t,"read from private field"),n?n.call(e):t.get(e)),__privateAdd=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},_array,_scopes;function _mergeNamespaces(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(o,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var EQUALS_FALSE_OPTIONS={equals:!1};function createLazyMemo(e,t,n){let o=!1,l=!0;const[s,u]=createSignal(void 0,EQUALS_FALSE_OPTIONS),a=createMemo(h=>o?e(h):(l=!s(),h),t,EQUALS_FALSE_OPTIONS);return()=>{o=!0,l&&(l=u());const h=a();return o=!1,h}}function r(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function clsx(){for(var e,t,n=0,o="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var main$2={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(commonjsGlobal,()=>{return n={770:function(l,s,u){var a=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(s,"__esModule",{value:!0}),s.setDefaultDebugCall=s.createOnigScanner=s.createOnigString=s.loadWASM=s.OnigScanner=s.OnigString=void 0;const h=a(u(418));let f=null,S=!1;class y{static _utf8ByteLength(P){let N=0;for(let b=0,A=P.length;b<A;b++){const d=P.charCodeAt(b);let i=d,p=!1;if(d>=55296&&d<=56319&&b+1<A){const g=P.charCodeAt(b+1);g>=56320&&g<=57343&&(i=65536+(d-55296<<10)|g-56320,p=!0)}N+=i<=127?1:i<=2047?2:i<=65535?3:4,p&&b++}return N}constructor(P){const N=P.length,b=y._utf8ByteLength(P),A=b!==N,d=A?new Uint32Array(N+1):null;A&&(d[N]=b);const i=A?new Uint32Array(b+1):null;A&&(i[b]=N);const p=new Uint8Array(b);let g=0;for(let c=0;c<N;c++){const _=P.charCodeAt(c);let m=_,C=!1;if(_>=55296&&_<=56319&&c+1<N){const w=P.charCodeAt(c+1);w>=56320&&w<=57343&&(m=65536+(_-55296<<10)|w-56320,C=!0)}A&&(d[c]=g,C&&(d[c+1]=g),m<=127?i[g+0]=c:m<=2047?(i[g+0]=c,i[g+1]=c):m<=65535?(i[g+0]=c,i[g+1]=c,i[g+2]=c):(i[g+0]=c,i[g+1]=c,i[g+2]=c,i[g+3]=c)),m<=127?p[g++]=m:m<=2047?(p[g++]=192|(1984&m)>>>6,p[g++]=128|(63&m)>>>0):m<=65535?(p[g++]=224|(61440&m)>>>12,p[g++]=128|(4032&m)>>>6,p[g++]=128|(63&m)>>>0):(p[g++]=240|(1835008&m)>>>18,p[g++]=128|(258048&m)>>>12,p[g++]=128|(4032&m)>>>6,p[g++]=128|(63&m)>>>0),C&&c++}this.utf16Length=N,this.utf8Length=b,this.utf16Value=P,this.utf8Value=p,this.utf16OffsetToUtf8=d,this.utf8OffsetToUtf16=i}createString(P){const N=P._omalloc(this.utf8Length);return P.HEAPU8.set(this.utf8Value,N),N}}class v{constructor(P){if(this.id=++v.LAST_ID,!f)throw new Error("Must invoke loadWASM first.");this._onigBinding=f,this.content=P;const N=new y(P);this.utf16Length=N.utf16Length,this.utf8Length=N.utf8Length,this.utf16OffsetToUtf8=N.utf16OffsetToUtf8,this.utf8OffsetToUtf16=N.utf8OffsetToUtf16,this.utf8Length<1e4&&!v._sharedPtrInUse?(v._sharedPtr||(v._sharedPtr=f._omalloc(1e4)),v._sharedPtrInUse=!0,f.HEAPU8.set(N.utf8Value,v._sharedPtr),this.ptr=v._sharedPtr):this.ptr=N.createString(f)}convertUtf8OffsetToUtf16(P){return this.utf8OffsetToUtf16?P<0?0:P>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[P]:P}convertUtf16OffsetToUtf8(P){return this.utf16OffsetToUtf8?P<0?0:P>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[P]:P}dispose(){this.ptr===v._sharedPtr?v._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}s.OnigString=v,v.LAST_ID=0,v._sharedPtr=0,v._sharedPtrInUse=!1;class ${constructor(P,N){var b,A;if(!f)throw new Error("Must invoke loadWASM first.");const d=[],i=[];for(let C=0,w=P.length;C<w;C++){const T=new y(P[C]);d[C]=T.createString(f),i[C]=T.utf8Length}const p=f._omalloc(4*P.length);f.HEAPU32.set(d,p/4);const g=f._omalloc(4*P.length);f.HEAPU32.set(i,g/4),this._onigBinding=f,this._options=(b=N?.options)!==null&&b!==void 0?b:[10];const c=this.onigOptions(this._options),_=this.onigSyntax((A=N?.syntax)!==null&&A!==void 0?A:0),m=f._createOnigScanner(p,g,P.length,c,_);this._ptr=m;for(let C=0,w=P.length;C<w;C++)f._ofree(d[C]);f._ofree(g),f._ofree(p),m===0&&function(C){throw new Error(C.UTF8ToString(C._getLastOnigError()))}(f)}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(P,N,b){let A=S,d=this._options;if(Array.isArray(b)?(b.includes(25)&&(A=!0),d=d.concat(b)):typeof b=="boolean"&&(A=b),typeof P=="string"){P=new v(P);const i=this._findNextMatchSync(P,N,A,d);return P.dispose(),i}return this._findNextMatchSync(P,N,A,d)}_findNextMatchSync(P,N,b,A){const d=this._onigBinding,i=this.onigOptions(A);let p;if(p=b?d._findNextOnigScannerMatchDbg(this._ptr,P.id,P.ptr,P.utf8Length,P.convertUtf16OffsetToUtf8(N),i):d._findNextOnigScannerMatch(this._ptr,P.id,P.ptr,P.utf8Length,P.convertUtf16OffsetToUtf8(N),i),p===0)return null;const g=d.HEAPU32;let c=p/4;const _=g[c++],m=g[c++];let C=[];for(let w=0;w<m;w++){const T=P.convertUtf8OffsetToUtf16(g[c++]),k=P.convertUtf8OffsetToUtf16(g[c++]);C[w]={start:T,end:k,length:k-T}}return{index:_,captureIndices:C}}onigOptions(P){return P.map(N=>this.onigOption(N)).reduce((N,b)=>N|b,this._onigBinding.ONIG_OPTION_NONE)}onigSyntax(P){switch(P){case 0:return this._onigBinding.ONIG_SYNTAX_DEFAULT;case 1:return this._onigBinding.ONIG_SYNTAX_ASIS;case 2:return this._onigBinding.ONIG_SYNTAX_POSIX_BASIC;case 3:return this._onigBinding.ONIG_SYNTAX_POSIX_EXTENDED;case 4:return this._onigBinding.ONIG_SYNTAX_EMACS;case 5:return this._onigBinding.ONIG_SYNTAX_GREP;case 6:return this._onigBinding.ONIG_SYNTAX_GNU_REGEX;case 7:return this._onigBinding.ONIG_SYNTAX_JAVA;case 8:return this._onigBinding.ONIG_SYNTAX_PERL;case 9:return this._onigBinding.ONIG_SYNTAX_PERL_NG;case 10:return this._onigBinding.ONIG_SYNTAX_RUBY;case 11:return this._onigBinding.ONIG_SYNTAX_PYTHON;case 12:return this._onigBinding.ONIG_SYNTAX_ONIGURUMA}}onigOption(P){switch(P){case 1:return this._onigBinding.ONIG_OPTION_NONE;case 0:case 25:return this._onigBinding.ONIG_OPTION_DEFAULT;case 2:return this._onigBinding.ONIG_OPTION_IGNORECASE;case 3:return this._onigBinding.ONIG_OPTION_EXTEND;case 4:return this._onigBinding.ONIG_OPTION_MULTILINE;case 5:return this._onigBinding.ONIG_OPTION_SINGLELINE;case 6:return this._onigBinding.ONIG_OPTION_FIND_LONGEST;case 7:return this._onigBinding.ONIG_OPTION_FIND_NOT_EMPTY;case 8:return this._onigBinding.ONIG_OPTION_NEGATE_SINGLELINE;case 9:return this._onigBinding.ONIG_OPTION_DONT_CAPTURE_GROUP;case 10:return this._onigBinding.ONIG_OPTION_CAPTURE_GROUP;case 11:return this._onigBinding.ONIG_OPTION_NOTBOL;case 12:return this._onigBinding.ONIG_OPTION_NOTEOL;case 13:return this._onigBinding.ONIG_OPTION_CHECK_VALIDITY_OF_STRING;case 14:return this._onigBinding.ONIG_OPTION_IGNORECASE_IS_ASCII;case 15:return this._onigBinding.ONIG_OPTION_WORD_IS_ASCII;case 16:return this._onigBinding.ONIG_OPTION_DIGIT_IS_ASCII;case 17:return this._onigBinding.ONIG_OPTION_SPACE_IS_ASCII;case 18:return this._onigBinding.ONIG_OPTION_POSIX_IS_ASCII;case 19:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_EXTENDED_GRAPHEME_CLUSTER;case 20:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_WORD;case 21:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_STRING;case 22:return this._onigBinding.ONIG_OPTION_NOT_END_STRING;case 23:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_POSITION;case 24:return this._onigBinding.ONIG_OPTION_CALLBACK_EACH_MATCH}}}s.OnigScanner=$;let E=!1,I=null;s.loadWASM=function(R){if(E)return I;let P,N,b,A;if(E=!0,function(d){return typeof d.instantiator=="function"}(R))P=R.instantiator,N=R.print;else{let d;(function(i){return i.data!==void 0})(R)?(d=R.data,N=R.print):d=R,P=function(i){return typeof Response<"u"&&i instanceof Response}(d)?typeof WebAssembly.instantiateStreaming=="function"?function(i){return p=>WebAssembly.instantiateStreaming(i,p)}(d):function(i){return async p=>{const g=await i.arrayBuffer();return WebAssembly.instantiate(g,p)}}(d):function(i){return p=>WebAssembly.instantiate(i,p)}(d)}return I=new Promise((d,i)=>{b=d,A=i}),function(d,i,p,g){(0,h.default)({print:i,instantiateWasm:(c,_)=>{if(typeof performance>"u"){const m=()=>Date.now();c.env.emscripten_get_now=m,c.wasi_snapshot_preview1.emscripten_get_now=m}return d(c).then(m=>_(m.instance),g),{}}}).then(c=>{f=c,p()})}(P,N,b,A),I},s.createOnigString=function(R){return new v(R)},s.createOnigScanner=function(R){return new $(R)},s.setDefaultDebugCall=function(R){S=R}},418:l=>{var s=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(u={}){var a,h,f=u;f.ready=new Promise((O,x)=>{a=O,h=x});var S,y=Object.assign({},f);typeof read<"u"&&read,S=O=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(O));let x=read(O,"binary");return typeof x=="object"||k(F),x;var F},typeof clearTimeout>"u"&&(globalThis.clearTimeout=O=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=O=>typeof O=="function"?O():k()),typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var v,$,E=f.print||console.log.bind(console),I=f.printErr||console.error.bind(console);Object.assign(f,y),y=null,f.arguments&&f.arguments,f.thisProgram&&f.thisProgram,f.quit&&f.quit,f.wasmBinary&&(v=f.wasmBinary),f.noExitRuntime,typeof WebAssembly!="object"&&k("no native wasm support detected");var R,P,N,b,A,d,i,p,g=!1;function c(){var O=$.buffer;f.HEAP8=R=new Int8Array(O),f.HEAP16=N=new Int16Array(O),f.HEAPU8=P=new Uint8Array(O),f.HEAPU16=b=new Uint16Array(O),f.HEAP32=A=new Int32Array(O),f.HEAPU32=d=new Uint32Array(O),f.HEAPF32=i=new Float32Array(O),f.HEAPF64=p=new Float64Array(O)}var _=[],m=[],C=[],w=0,T=null;function k(O){f.onAbort&&f.onAbort(O),I(O="Aborted("+O+")"),g=!0,O+=". Build with -sASSERTIONS for more info.";var x=new WebAssembly.RuntimeError(O);throw h(x),x}var L,W;function z(O){return O.startsWith("data:application/octet-stream;base64,")}function U(O){if(O==L&&v)return new Uint8Array(v);if(S)return S(O);throw"both async and sync fetching of the wasm failed"}function Q(O,x,F){return function(G){return Promise.resolve().then(()=>U(G))}(O).then(G=>WebAssembly.instantiate(G,x)).then(G=>G).then(F,G=>{I(`failed to asynchronously prepare wasm: ${G}`),k(G)})}z(L="onig.wasm")||(W=L,L=f.locateFile?f.locateFile(W,""):""+W);var ee=O=>{for(;O.length>0;)O.shift()(f)},Z=void 0,Y=O=>{for(var x="",F=O;P[F];)x+=Z[P[F++]];return x},X={},V={},oe={},M=void 0,te=O=>{throw new M(O)},J=void 0,de=(O,x,F)=>{function G(K){var H=F(K);H.length!==O.length&&(ie=>{throw new J(ie)})("Mismatched type converter count");for(var q=0;q<O.length;++q)le(O[q],H[q])}O.forEach(function(K){oe[K]=x});var D=new Array(x.length),B=[],j=0;x.forEach((K,H)=>{V.hasOwnProperty(K)?D[H]=V[K]:(B.push(K),X.hasOwnProperty(K)||(X[K]=[]),X[K].push(()=>{D[H]=V[K],++j===B.length&&G(D)}))}),B.length===0&&G(D)};function le(O,x,F={}){if(!("argPackAdvance"in x))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(G,D,B={}){var j=D.name;if(G||te(`type "${j}" must have a positive integer typeid pointer`),V.hasOwnProperty(G)){if(B.ignoreDuplicateRegistrations)return;te(`Cannot register type '${j}' twice`)}if(V[G]=D,delete oe[G],X.hasOwnProperty(G)){var K=X[G];delete X[G],K.forEach(H=>H())}}(O,x,F)}function we(){this.allocated=[void 0],this.freelist=[]}var ae=new we,pe=()=>{for(var O=0,x=ae.reserved;x<ae.allocated.length;++x)ae.allocated[x]!==void 0&&++O;return O},Pe=O=>(O||te("Cannot use deleted val. handle = "+O),ae.get(O).value),ye=O=>{switch(O){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ae.allocate({refcount:1,value:O})}};function ge(O){return this.fromWireType(A[O>>2])}var Se=(O,x)=>{switch(x){case 4:return function(F){return this.fromWireType(i[F>>2])};case 8:return function(F){return this.fromWireType(p[F>>3])};default:throw new TypeError(`invalid float width (${x}): ${O}`)}},me=(O,x,F)=>{switch(x){case 1:return F?G=>R[G>>0]:G=>P[G>>0];case 2:return F?G=>N[G>>1]:G=>b[G>>1];case 4:return F?G=>A[G>>2]:G=>d[G>>2];default:throw new TypeError(`invalid integer width (${x}): ${O}`)}};function fe(O){return this.fromWireType(d[O>>2])}var be,Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ee=(O,x,F)=>{for(var G=x+F,D=x;O[D]&&!(D>=G);)++D;if(D-x>16&&O.buffer&&Ae)return Ae.decode(O.subarray(x,D));for(var B="";x<D;){var j=O[x++];if(128&j){var K=63&O[x++];if((224&j)!=192){var H=63&O[x++];if((j=(240&j)==224?(15&j)<<12|K<<6|H:(7&j)<<18|K<<12|H<<6|63&O[x++])<65536)B+=String.fromCharCode(j);else{var q=j-65536;B+=String.fromCharCode(55296|q>>10,56320|1023&q)}}else B+=String.fromCharCode((31&j)<<6|K)}else B+=String.fromCharCode(j)}return B},ve=(O,x)=>O?Ee(P,O,x):"",Oe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ne=(O,x)=>{for(var F=O,G=F>>1,D=G+x/2;!(G>=D)&&b[G];)++G;if((F=G<<1)-O>32&&Oe)return Oe.decode(P.subarray(O,F));for(var B="",j=0;!(j>=x/2);++j){var K=N[O+2*j>>1];if(K==0)break;B+=String.fromCharCode(K)}return B},Re=(O,x,F)=>{if(F===void 0&&(F=2147483647),F<2)return 0;for(var G=x,D=(F-=2)<2*O.length?F/2:O.length,B=0;B<D;++B){var j=O.charCodeAt(B);N[x>>1]=j,x+=2}return N[x>>1]=0,x-G},Ce=O=>2*O.length,Te=(O,x)=>{for(var F=0,G="";!(F>=x/4);){var D=A[O+4*F>>2];if(D==0)break;if(++F,D>=65536){var B=D-65536;G+=String.fromCharCode(55296|B>>10,56320|1023&B)}else G+=String.fromCharCode(D)}return G},Fe=(O,x,F)=>{if(F===void 0&&(F=2147483647),F<4)return 0;for(var G=x,D=G+F-4,B=0;B<O.length;++B){var j=O.charCodeAt(B);if(j>=55296&&j<=57343&&(j=65536+((1023&j)<<10)|1023&O.charCodeAt(++B)),A[x>>2]=j,(x+=4)+4>D)break}return A[x>>2]=0,x-G},De=O=>{for(var x=0,F=0;F<O.length;++F){var G=O.charCodeAt(F);G>=55296&&G<=57343&&++F,x+=4}return x};be=()=>performance.now();var Be=O=>{var x=(O-$.buffer.byteLength+65535)/65536;try{return $.grow(x),c(),1}catch{}},je=[null,[],[]];(()=>{for(var O=new Array(256),x=0;x<256;++x)O[x]=String.fromCharCode(x);Z=O})(),M=f.BindingError=class extends Error{constructor(O){super(O),this.name="BindingError"}},J=f.InternalError=class extends Error{constructor(O){super(O),this.name="InternalError"}},Object.assign(we.prototype,{get(O){return this.allocated[O]},has(O){return this.allocated[O]!==void 0},allocate(O){var x=this.freelist.pop()||this.allocated.length;return this.allocated[x]=O,x},free(O){this.allocated[O]=void 0,this.freelist.push(O)}}),ae.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ae.reserved=ae.allocated.length,f.count_emval_handles=pe;var Ie,Ge={_embind_register_bigint:(O,x,F,G,D)=>{},_embind_register_bool:(O,x,F,G)=>{le(O,{name:x=Y(x),fromWireType:function(D){return!!D},toWireType:function(D,B){return B?F:G},argPackAdvance:8,readValueFromPointer:function(D){return this.fromWireType(P[D])},destructorFunction:null})},_embind_register_constant:(O,x,F)=>{O=Y(O),de([],[x],function(G){return G=G[0],f[O]=G.fromWireType(F),[]})},_embind_register_emval:(O,x)=>{le(O,{name:x=Y(x),fromWireType:F=>{var G=Pe(F);return(D=>{D>=ae.reserved&&--ae.get(D).refcount==0&&ae.free(D)})(F),G},toWireType:(F,G)=>ye(G),argPackAdvance:8,readValueFromPointer:ge,destructorFunction:null})},_embind_register_float:(O,x,F)=>{le(O,{name:x=Y(x),fromWireType:G=>G,toWireType:(G,D)=>D,argPackAdvance:8,readValueFromPointer:Se(x,F),destructorFunction:null})},_embind_register_integer:(O,x,F,G,D)=>{x=Y(x);var B=H=>H;if(G===0){var j=32-8*F;B=H=>H<<j>>>j}var K=x.includes("unsigned");le(O,{name:x,fromWireType:B,toWireType:K?function(H,q){return this.name,q>>>0}:function(H,q){return this.name,q},argPackAdvance:8,readValueFromPointer:me(x,F,G!==0),destructorFunction:null})},_embind_register_memory_view:(O,x,F)=>{var G=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][x];function D(B){var j=d[B>>2],K=d[B+4>>2];return new G(R.buffer,K,j)}le(O,{name:F=Y(F),fromWireType:D,argPackAdvance:8,readValueFromPointer:D},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(O,x)=>{var F=(x=Y(x))==="std::string";le(O,{name:x,fromWireType:G=>{var D,B=d[G>>2],j=G+4;if(F)for(var K=j,H=0;H<=B;++H){var q=j+H;if(H==B||P[q]==0){var ie=ve(K,q-K);D===void 0?D=ie:(D+="\0",D+=ie),K=q+1}}else{var re=new Array(B);for(H=0;H<B;++H)re[H]=String.fromCharCode(P[j+H]);D=re.join("")}return _e(G),D},toWireType:(G,D)=>{var B;D instanceof ArrayBuffer&&(D=new Uint8Array(D));var j=typeof D=="string";j||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array||te("Cannot pass non-string to std::string"),B=F&&j?(re=>{for(var se=0,ne=0;ne<re.length;++ne){var he=re.charCodeAt(ne);he<=127?se++:he<=2047?se+=2:he>=55296&&he<=57343?(se+=4,++ne):se+=3}return se})(D):D.length;var K=$e(4+B+1),H=K+4;if(d[K>>2]=B,F&&j)((re,se,ne,he)=>{if(!(he>0))return 0;for(var Le=ne,ke=ne+he-1,xe=0;xe<re.length;++xe){var ce=re.charCodeAt(xe);if(ce>=55296&&ce<=57343&&(ce=65536+((1023&ce)<<10)|1023&re.charCodeAt(++xe)),ce<=127){if(ne>=ke)break;se[ne++]=ce}else if(ce<=2047){if(ne+1>=ke)break;se[ne++]=192|ce>>6,se[ne++]=128|63&ce}else if(ce<=65535){if(ne+2>=ke)break;se[ne++]=224|ce>>12,se[ne++]=128|ce>>6&63,se[ne++]=128|63&ce}else{if(ne+3>=ke)break;se[ne++]=240|ce>>18,se[ne++]=128|ce>>12&63,se[ne++]=128|ce>>6&63,se[ne++]=128|63&ce}}se[ne]=0})(D,P,H,B+1);else if(j)for(var q=0;q<B;++q){var ie=D.charCodeAt(q);ie>255&&(_e(H),te("String has UTF-16 code units that do not fit in 8 bits")),P[H+q]=ie}else for(q=0;q<B;++q)P[H+q]=D[q];return G!==null&&G.push(_e,K),K},argPackAdvance:8,readValueFromPointer:fe,destructorFunction:G=>_e(G)})},_embind_register_std_wstring:(O,x,F)=>{var G,D,B,j,K;F=Y(F),x===2?(G=Ne,D=Re,j=Ce,B=()=>b,K=1):x===4&&(G=Te,D=Fe,j=De,B=()=>d,K=2),le(O,{name:F,fromWireType:H=>{for(var q,ie=d[H>>2],re=B(),se=H+4,ne=0;ne<=ie;++ne){var he=H+4+ne*x;if(ne==ie||re[he>>K]==0){var Le=G(se,he-se);q===void 0?q=Le:(q+="\0",q+=Le),se=he+x}}return _e(H),q},toWireType:(H,q)=>{typeof q!="string"&&te(`Cannot pass non-string to C++ string type ${F}`);var ie=j(q),re=$e(4+ie+x);return d[re>>2]=ie>>K,D(q,re+4,ie+x),H!==null&&H.push(_e,re),re},argPackAdvance:8,readValueFromPointer:ge,destructorFunction:H=>_e(H)})},_embind_register_void:(O,x)=>{le(O,{isVoid:!0,name:x=Y(x),argPackAdvance:0,fromWireType:()=>{},toWireType:(F,G)=>{}})},emscripten_get_now:be,emscripten_memcpy_big:(O,x,F)=>P.copyWithin(O,x,x+F),emscripten_resize_heap:O=>{var x=P.length,F=2147483648;if((O>>>=0)>F)return!1;for(var G,D=1;D<=4;D*=2){var B=x*(1+.2/D);B=Math.min(B,O+100663296);var j=Math.min(F,(G=Math.max(O,B))+(65536-G%65536)%65536);if(Be(j))return!0}return!1},fd_write:(O,x,F,G)=>{for(var D=0,B=0;B<F;B++){var j=d[x>>2],K=d[x+4>>2];x+=8;for(var H=0;H<K;H++)q=O,ie=P[j+H],re=void 0,re=je[q],ie===0||ie===10?((q===1?E:I)(Ee(re,0)),re.length=0):re.push(ie);D+=K}var q,ie,re;return d[G>>2]=D,0}},ue=function(){var O,x,F,G,D={env:Ge,wasi_snapshot_preview1:Ge};function B(j,K){var H,q=j.exports;return $=(ue=q).memory,c(),ue.__indirect_function_table,H=ue.__wasm_call_ctors,m.unshift(H),function(ie){if(w--,f.monitorRunDependencies&&f.monitorRunDependencies(w),w==0&&T){var re=T;T=null,re()}}(),q}if(w++,f.monitorRunDependencies&&f.monitorRunDependencies(w),f.instantiateWasm)try{return f.instantiateWasm(D,B)}catch(j){I(`Module.instantiateWasm callback failed with error: ${j}`),h(j)}return(O=v,x=L,F=D,G=function(j){B(j.instance)},O||typeof WebAssembly.instantiateStreaming!="function"||z(x)||typeof fetch!="function"?Q(x,F,G):fetch(x,{credentials:"same-origin"}).then(j=>WebAssembly.instantiateStreaming(j,F).then(G,function(K){return I(`wasm streaming compile failed: ${K}`),I("falling back to ArrayBuffer instantiation"),Q(x,F,G)}))).catch(h),{}}(),$e=O=>($e=ue.malloc)(O),_e=O=>(_e=ue.free)(O);function Me(){function O(){Ie||(Ie=!0,f.calledRun=!0,g||(ee(m),a(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),function(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)x=f.postRun.shift(),C.unshift(x);var x;ee(C)}()))}w>0||(function(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)x=f.preRun.shift(),_.unshift(x);var x;ee(_)}(),w>0||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),O()},1)):O()))}if(f._omalloc=O=>(f._omalloc=ue.omalloc)(O),f._ofree=O=>(f._ofree=ue.ofree)(O),f._getLastOnigError=()=>(f._getLastOnigError=ue.getLastOnigError)(),f._createOnigScanner=(O,x,F,G,D)=>(f._createOnigScanner=ue.createOnigScanner)(O,x,F,G,D),f._freeOnigScanner=O=>(f._freeOnigScanner=ue.freeOnigScanner)(O),f._findNextOnigScannerMatch=(O,x,F,G,D,B)=>(f._findNextOnigScannerMatch=ue.findNextOnigScannerMatch)(O,x,F,G,D,B),f._findNextOnigScannerMatchDbg=(O,x,F,G,D,B)=>(f._findNextOnigScannerMatchDbg=ue.findNextOnigScannerMatchDbg)(O,x,F,G,D,B),f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=ue._embind_initialize_bindings)(),f.dynCall_jiji=(O,x,F,G,D)=>(f.dynCall_jiji=ue.dynCall_jiji)(O,x,F,G,D),f.UTF8ToString=ve,T=function O(){Ie||Me(),Ie||(T=O)},f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.pop()();return Me(),u.ready});l.exports=s}},o={},function l(s){var u=o[s];if(u!==void 0)return u.exports;var a=o[s]={exports:{}};return n[s].call(a.exports,a,a.exports,l),a.exports}(770);var n,o})})(main$2);var mainExports$1=main$2.exports;const main$1=getDefaultExportFromCjs(mainExports$1),oniguruma=_mergeNamespaces({__proto__:null,default:main$1},[mainExports$1]);var main={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(commonjsGlobal,()=>(()=>{var n={350:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UseOnigurumaFindOptions=s.DebugFlags=void 0,s.DebugFlags={InDebugMode:typeof process<"u"&&!!define_process_env_default.VSCODE_TEXTMATE_DEBUG},s.UseOnigurumaFindOptions=!1},442:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyStateStackDiff=s.diffStateStacksRefEq=void 0;const a=u(391);s.diffStateStacksRefEq=function(h,f){let S=0;const y=[];let v=h,$=f;for(;v!==$;)v&&(!$||v.depth>=$.depth)?(S++,v=v.parent):(y.push($.toStateStackFrame()),$=$.parent);return{pops:S,newFrames:y.reverse()}},s.applyStateStackDiff=function(h,f){let S=h;for(let y=0;y<f.pops;y++)S=S.parent;for(const y of f.newFrames)S=a.StateStackImpl.pushFrame(S,y);return S}},36:(l,s)=>{var u;Object.defineProperty(s,"__esModule",{value:!0}),s.toOptionalTokenType=s.EncodedTokenAttributes=void 0,(u=s.EncodedTokenAttributes||(s.EncodedTokenAttributes={})).toBinaryStr=function(a){return a.toString(2).padStart(32,"0")},u.print=function(a){const h=u.getLanguageId(a),f=u.getTokenType(a),S=u.getFontStyle(a),y=u.getForeground(a),v=u.getBackground(a);console.log({languageId:h,tokenType:f,fontStyle:S,foreground:y,background:v})},u.getLanguageId=function(a){return(255&a)>>>0},u.getTokenType=function(a){return(768&a)>>>8},u.containsBalancedBrackets=function(a){return(1024&a)!=0},u.getFontStyle=function(a){return(30720&a)>>>11},u.getForeground=function(a){return(16744448&a)>>>15},u.getBackground=function(a){return(4278190080&a)>>>24},u.set=function(a,h,f,S,y,v,$){let E=u.getLanguageId(a),I=u.getTokenType(a),R=u.containsBalancedBrackets(a)?1:0,P=u.getFontStyle(a),N=u.getForeground(a),b=u.getBackground(a);return h!==0&&(E=h),f!==8&&(I=f),S!==null&&(R=S?1:0),y!==-1&&(P=y),v!==0&&(N=v),$!==0&&(b=$),(E<<0|I<<8|R<<10|P<<11|N<<15|b<<24)>>>0},s.toOptionalTokenType=function(a){return a}},996:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BasicScopeAttributesProvider=s.BasicScopeAttributes=void 0;const a=u(878);class h{constructor(v,$){this.languageId=v,this.tokenType=$}}s.BasicScopeAttributes=h;class f{constructor(v,$){this._getBasicScopeAttributes=new a.CachedFn(E=>{const I=this._scopeToLanguage(E),R=this._toStandardTokenType(E);return new h(I,R)}),this._defaultAttributes=new h(v,8),this._embeddedLanguagesMatcher=new S(Object.entries($||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(v){return v===null?f._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(v)}_scopeToLanguage(v){return this._embeddedLanguagesMatcher.match(v)||0}_toStandardTokenType(v){const $=v.match(f.STANDARD_TOKEN_TYPE_REGEXP);if(!$)return 8;switch($[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}s.BasicScopeAttributesProvider=f,f._NULL_SCOPE_METADATA=new h(0,0),f.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class S{constructor(v){if(v.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(v);const $=v.map(([E,I])=>a.escapeRegExpCharacters(E));$.sort(),$.reverse(),this.scopesRegExp=new RegExp(`^((${$.join(")|(")}))($|\\.)`,"")}}match(v){if(!this.scopesRegExp)return;const $=v.match(this.scopesRegExp);return $?this.values.get($[1]):void 0}}},947:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LineTokens=s.BalancedBracketSelectors=s.StateStackImpl=s.AttributedScopeStack=s.Grammar=s.createGrammar=void 0;const a=u(350),h=u(36),f=u(736),S=u(44),y=u(792),v=u(583),$=u(878),E=u(996),I=u(47);function R(g,c,_,m,C){const w=f.createMatchers(c,P),T=y.RuleFactory.getCompiledRuleId(_,m,C.repository);for(const k of w)g.push({debugSelector:c,matcher:k.matcher,ruleId:T,grammar:C,priority:k.priority})}function P(g,c){if(c.length<g.length)return!1;let _=0;return g.every(m=>{for(let C=_;C<c.length;C++)if(N(c[C],m))return _=C+1,!0;return!1})}function N(g,c){if(!g)return!1;if(g===c)return!0;const _=c.length;return g.length>_&&g.substr(0,_)===c&&g[_]==="."}s.createGrammar=function(g,c,_,m,C,w,T,k){return new b(g,c,_,m,C,w,T,k)};class b{constructor(c,_,m,C,w,T,k,L){if(this._rootScopeName=c,this.balancedBracketSelectors=T,this._onigLib=L,this._basicScopeAttributesProvider=new E.BasicScopeAttributesProvider(m,C),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=k,this._grammar=A(_,null),this._injections=null,this._tokenTypeMatchers=[],w)for(const W of Object.keys(w)){const z=f.createMatchers(W,P);for(const U of z)this._tokenTypeMatchers.push({matcher:U.matcher,type:w[W]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const c of this._ruleId2desc)c&&c.dispose()}createOnigScanner(c){return this._onigLib.createOnigScanner(c)}createOnigString(c){return this._onigLib.createOnigString(c)}getMetadataForScope(c){return this._basicScopeAttributesProvider.getBasicScopeAttributes(c)}_collectInjections(){const c=[],_=this._rootScopeName,m=(C=>C===this._rootScopeName?this._grammar:this.getExternalGrammar(C))(_);if(m){const C=m.injections;if(C)for(let T in C)R(c,T,C[T],this,m);const w=this._grammarRepository.injections(_);w&&w.forEach(T=>{const k=this.getExternalGrammar(T);if(k){const L=k.injectionSelector;L&&R(c,L,k,this,k)}})}return c.sort((C,w)=>C.priority-w.priority),c}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),a.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const c of this._injections)console.log(`  - ${c.debugSelector}`)}return this._injections}registerRule(c){const _=++this._lastRuleId,m=c(y.ruleIdFromNumber(_));return this._ruleId2desc[_]=m,m}getRule(c){return this._ruleId2desc[y.ruleIdToNumber(c)]}getExternalGrammar(c,_){if(this._includedGrammars[c])return this._includedGrammars[c];if(this._grammarRepository){const m=this._grammarRepository.lookup(c);if(m)return this._includedGrammars[c]=A(m,_&&_.$base),this._includedGrammars[c]}}tokenizeLine(c,_,m=0){const C=this._tokenize(c,_,!1,m);return{tokens:C.lineTokens.getResult(C.ruleStack,C.lineLength),ruleStack:C.ruleStack,stoppedEarly:C.stoppedEarly}}tokenizeLine2(c,_,m=0){const C=this._tokenize(c,_,!0,m);return{tokens:C.lineTokens.getBinaryResult(C.ruleStack,C.lineLength),ruleStack:C.ruleStack,stoppedEarly:C.stoppedEarly}}_tokenize(c,_,m,C){let w;if(this._rootId===-1&&(this._rootId=y.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),_&&_!==i.NULL)w=!1,_.reset();else{w=!0;const z=this._basicScopeAttributesProvider.getDefaultAttributes(),U=this.themeProvider.getDefaults(),Q=h.EncodedTokenAttributes.set(0,z.languageId,z.tokenType,null,U.fontStyle,U.foregroundId,U.backgroundId),ee=this.getRule(this._rootId).getName(null,null);let Z;Z=ee?d.createRootAndLookUpScopeName(ee,Q,this):d.createRoot("unknown",Q),_=new i(null,this._rootId,-1,-1,!1,null,Z,Z)}c+=`
`;const T=this.createOnigString(c),k=T.content.length,L=new p(m,c,this._tokenTypeMatchers,this.balancedBracketSelectors),W=I._tokenizeString(this,T,w,0,_,L,!0,C);return S.disposeOnigString(T),{lineLength:k,lineTokens:L,ruleStack:W.stack,stoppedEarly:W.stoppedEarly}}}function A(g,c){return(g=$.clone(g)).repository=g.repository||{},g.repository.$self={$vscodeTextmateLocation:g.$vscodeTextmateLocation,patterns:g.patterns,name:g.scopeName},g.repository.$base=c||g.repository.$self,g}s.Grammar=b;class d{constructor(c,_,m){this.parent=c,this.scopePath=_,this.tokenAttributes=m}static fromExtension(c,_){let m=c,C=c?.scopePath??null;for(const w of _)C=v.ScopeStack.push(C,w.scopeNames),m=new d(m,C,w.encodedTokenAttributes);return m}static createRoot(c,_){return new d(null,new v.ScopeStack(null,c),_)}static createRootAndLookUpScopeName(c,_,m){const C=m.getMetadataForScope(c),w=new v.ScopeStack(null,c),T=m.themeProvider.themeMatch(w),k=d.mergeAttributes(_,C,T);return new d(null,w,k)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(c){return d.equals(this,c)}static equals(c,_){for(;;){if(c===_||!c&&!_)return!0;if(!c||!_||c.scopeName!==_.scopeName||c.tokenAttributes!==_.tokenAttributes)return!1;c=c.parent,_=_.parent}}static mergeAttributes(c,_,m){let C=-1,w=0,T=0;return m!==null&&(C=m.fontStyle,w=m.foregroundId,T=m.backgroundId),h.EncodedTokenAttributes.set(c,_.languageId,_.tokenType,null,C,w,T)}pushAttributed(c,_){if(c===null)return this;if(c.indexOf(" ")===-1)return d._pushAttributed(this,c,_);const m=c.split(/ /g);let C=this;for(const w of m)C=d._pushAttributed(C,w,_);return C}static _pushAttributed(c,_,m){const C=m.getMetadataForScope(_),w=c.scopePath.push(_),T=m.themeProvider.themeMatch(w),k=d.mergeAttributes(c.tokenAttributes,C,T);return new d(c,w,k)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(c){var _;const m=[];let C=this;for(;C&&C!==c;)m.push({encodedTokenAttributes:C.tokenAttributes,scopeNames:C.scopePath.getExtensionIfDefined(((_=C.parent)==null?void 0:_.scopePath)??null)}),C=C.parent;return C===c?m.reverse():void 0}}s.AttributedScopeStack=d;class i{constructor(c,_,m,C,w,T,k,L){this.parent=c,this.ruleId=_,this.beginRuleCapturedEOL=w,this.endRule=T,this.nameScopesList=k,this.contentNameScopesList=L,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=m,this._anchorPos=C}equals(c){return c!==null&&i._equals(this,c)}static _equals(c,_){return c===_||!!this._structuralEquals(c,_)&&d.equals(c.contentNameScopesList,_.contentNameScopesList)}static _structuralEquals(c,_){for(;;){if(c===_||!c&&!_)return!0;if(!c||!_||c.depth!==_.depth||c.ruleId!==_.ruleId||c.endRule!==_.endRule)return!1;c=c.parent,_=_.parent}}clone(){return this}static _reset(c){for(;c;)c._enterPos=-1,c._anchorPos=-1,c=c.parent}reset(){i._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(c,_,m,C,w,T,k){return new i(this,c,_,m,C,w,T,k)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(c){return c.getRule(this.ruleId)}toString(){const c=[];return this._writeString(c,0),"["+c.join(",")+"]"}_writeString(c,_){var m,C;return this.parent&&(_=this.parent._writeString(c,_)),c[_++]=`(${this.ruleId}, ${(m=this.nameScopesList)==null?void 0:m.toString()}, ${(C=this.contentNameScopesList)==null?void 0:C.toString()})`,_}withContentNameScopesList(c){return this.contentNameScopesList===c?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,c)}withEndRule(c){return this.endRule===c?this:new i(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,c,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(c){let _=this;for(;_&&_._enterPos===c._enterPos;){if(_.ruleId===c.ruleId)return!0;_=_.parent}return!1}toStateStackFrame(){var c,_,m;return{ruleId:y.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((_=this.nameScopesList)==null?void 0:_.getExtensionIfDefined(((c=this.parent)==null?void 0:c.nameScopesList)??null))??[],contentNameScopesList:((m=this.contentNameScopesList)==null?void 0:m.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(c,_){const m=d.fromExtension(c?.nameScopesList??null,_.nameScopesList);return new i(c,y.ruleIdFromNumber(_.ruleId),_.enterPos??-1,_.anchorPos??-1,_.beginRuleCapturedEOL,_.endRule,m,d.fromExtension(m,_.contentNameScopesList))}}s.StateStackImpl=i,i.NULL=new i(null,0,0,0,!1,null,null,null),s.BalancedBracketSelectors=class{constructor(g,c){this.allowAny=!1,this.balancedBracketScopes=g.flatMap(_=>_==="*"?(this.allowAny=!0,[]):f.createMatchers(_,P).map(m=>m.matcher)),this.unbalancedBracketScopes=c.flatMap(_=>f.createMatchers(_,P).map(m=>m.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(g){for(const c of this.unbalancedBracketScopes)if(c(g))return!1;for(const c of this.balancedBracketScopes)if(c(g))return!0;return this.allowAny}};class p{constructor(c,_,m,C){this.balancedBracketSelectors=C,this._emitBinaryTokens=c,this._tokenTypeOverrides=m,a.DebugFlags.InDebugMode?this._lineText=_:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(c,_){this.produceFromScopes(c.contentNameScopesList,_)}produceFromScopes(c,_){var m;if(this._lastTokenEndIndex>=_)return;if(this._emitBinaryTokens){let w=c?.tokenAttributes??0,T=!1;if((m=this.balancedBracketSelectors)!=null&&m.matchesAlways&&(T=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const k=c?.getScopeNames()??[];for(const L of this._tokenTypeOverrides)L.matcher(k)&&(w=h.EncodedTokenAttributes.set(w,0,h.toOptionalTokenType(L.type),null,-1,0,0));this.balancedBracketSelectors&&(T=this.balancedBracketSelectors.match(k))}if(T&&(w=h.EncodedTokenAttributes.set(w,0,8,T,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===w)return void(this._lastTokenEndIndex=_);if(a.DebugFlags.InDebugMode){const k=c?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,_).replace(/\n$/,"\\n")+"|");for(let L=0;L<k.length;L++)console.log("      * "+k[L])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(w),void(this._lastTokenEndIndex=_)}const C=c?.getScopeNames()??[];if(a.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,_).replace(/\n$/,"\\n")+"|");for(let w=0;w<C.length;w++)console.log("      * "+C[w])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:_,scopes:C}),this._lastTokenEndIndex=_}getResult(c,_){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===_-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(c,_),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(c,_){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===_-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(c,_),this._binaryTokens[this._binaryTokens.length-2]=0);const m=new Uint32Array(this._binaryTokens.length);for(let C=0,w=this._binaryTokens.length;C<w;C++)m[C]=this._binaryTokens[C];return m}}s.LineTokens=p},965:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseInclude=s.TopLevelRepositoryReference=s.TopLevelReference=s.RelativeReference=s.SelfReference=s.BaseReference=s.ScopeDependencyProcessor=s.ExternalReferenceCollector=s.TopLevelRepositoryRuleReference=s.TopLevelRuleReference=void 0;const a=u(878);class h{constructor(i){this.scopeName=i}toKey(){return this.scopeName}}s.TopLevelRuleReference=h;class f{constructor(i,p){this.scopeName=i,this.ruleName=p}toKey(){return`${this.scopeName}#${this.ruleName}`}}s.TopLevelRepositoryRuleReference=f;class S{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(i){const p=i.toKey();this._seenReferenceKeys.has(p)||(this._seenReferenceKeys.add(p),this._references.push(i))}}function y(d,i,p,g){const c=p.lookup(d.scopeName);if(!c){if(d.scopeName===i)throw new Error(`No grammar provided for <${i}>`);return}const _=p.lookup(i);d instanceof h?$({baseGrammar:_,selfGrammar:c},g):v(d.ruleName,{baseGrammar:_,selfGrammar:c,repository:c.repository},g);const m=p.injections(d.scopeName);if(m)for(const C of m)g.add(new h(C))}function v(d,i,p){i.repository&&i.repository[d]&&E([i.repository[d]],i,p)}function $(d,i){d.selfGrammar.patterns&&Array.isArray(d.selfGrammar.patterns)&&E(d.selfGrammar.patterns,{...d,repository:d.selfGrammar.repository},i),d.selfGrammar.injections&&E(Object.values(d.selfGrammar.injections),{...d,repository:d.selfGrammar.repository},i)}function E(d,i,p){for(const g of d){if(p.visitedRule.has(g))continue;p.visitedRule.add(g);const c=g.repository?a.mergeObjects({},i.repository,g.repository):i.repository;Array.isArray(g.patterns)&&E(g.patterns,{...i,repository:c},p);const _=g.include;if(!_)continue;const m=A(_);switch(m.kind){case 0:$({...i,selfGrammar:i.baseGrammar},p);break;case 1:$(i,p);break;case 2:v(m.ruleName,{...i,repository:c},p);break;case 3:case 4:const C=m.scopeName===i.selfGrammar.scopeName?i.selfGrammar:m.scopeName===i.baseGrammar.scopeName?i.baseGrammar:void 0;if(C){const w={baseGrammar:i.baseGrammar,selfGrammar:C,repository:c};m.kind===4?v(m.ruleName,w,p):$(w,p)}else m.kind===4?p.add(new f(m.scopeName,m.ruleName)):p.add(new h(m.scopeName))}}}s.ExternalReferenceCollector=S,s.ScopeDependencyProcessor=class{constructor(d,i){this.repo=d,this.initialScopeName=i,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new h(this.initialScopeName)]}processQueue(){const d=this.Q;this.Q=[];const i=new S;for(const p of d)y(p,this.initialScopeName,this.repo,i);for(const p of i.references)if(p instanceof h){if(this.seenFullScopeRequests.has(p.scopeName))continue;this.seenFullScopeRequests.add(p.scopeName),this.Q.push(p)}else{if(this.seenFullScopeRequests.has(p.scopeName)||this.seenPartialScopeRequests.has(p.toKey()))continue;this.seenPartialScopeRequests.add(p.toKey()),this.Q.push(p)}}};class I{constructor(){this.kind=0}}s.BaseReference=I;class R{constructor(){this.kind=1}}s.SelfReference=R;class P{constructor(i){this.ruleName=i,this.kind=2}}s.RelativeReference=P;class N{constructor(i){this.scopeName=i,this.kind=3}}s.TopLevelReference=N;class b{constructor(i,p){this.scopeName=i,this.ruleName=p,this.kind=4}}function A(d){if(d==="$base")return new I;if(d==="$self")return new R;const i=d.indexOf("#");if(i===-1)return new N(d);if(i===0)return new P(d.substring(1));{const p=d.substring(0,i),g=d.substring(i+1);return new b(p,g)}}s.TopLevelRepositoryReference=b,s.parseInclude=A},391:function(l,s,u){var a=this&&this.__createBinding||(Object.create?function(f,S,y,v){v===void 0&&(v=y),Object.defineProperty(f,v,{enumerable:!0,get:function(){return S[y]}})}:function(f,S,y,v){v===void 0&&(v=y),f[v]=S[y]}),h=this&&this.__exportStar||function(f,S){for(var y in f)y==="default"||Object.prototype.hasOwnProperty.call(S,y)||a(S,f,y)};Object.defineProperty(s,"__esModule",{value:!0}),h(u(947),s)},47:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LocalStackElement=s._tokenizeString=void 0;const a=u(350),h=u(44),f=u(792),S=u(878);class y{constructor(b,A){this.stack=b,this.stoppedEarly=A}}function v(N,b,A,d,i,p,g,c){const _=b.content.length;let m=!1,C=-1;if(g){const k=function(L,W,z,U,Q,ee){let Z=Q.beginRuleCapturedEOL?0:-1;const Y=[];for(let X=Q;X;X=X.pop()){const V=X.getRule(L);V instanceof f.BeginWhileRule&&Y.push({rule:V,stack:X})}for(let X=Y.pop();X;X=Y.pop()){const{ruleScanner:V,findOptions:oe}=E(X.rule,L,X.stack.endRule,z,U===Z),M=V.findNextMatchSync(W,U,oe);if(a.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(V.toString())),!M){a.DebugFlags.InDebugMode&&console.log("  popping "+X.rule.debugName+" - "+X.rule.debugWhileRegExp),Q=X.stack.pop();break}if(M.ruleId!==f.whileRuleId){Q=X.stack.pop();break}M.captureIndices&&M.captureIndices.length&&(ee.produce(X.stack,M.captureIndices[0].start),R(L,W,z,X.stack,ee,X.rule.whileCaptures,M.captureIndices),ee.produce(X.stack,M.captureIndices[0].end),Z=M.captureIndices[0].end,M.captureIndices[0].end>U&&(U=M.captureIndices[0].end,z=!1))}return{stack:Q,linePos:U,anchorPosition:Z,isFirstLine:z}}(N,b,A,d,i,p);i=k.stack,d=k.linePos,A=k.isFirstLine,C=k.anchorPosition}const w=Date.now();for(;!m;){if(c!==0&&Date.now()-w>c)return new y(i,!0);T()}return new y(i,!1);function T(){a.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${d}: |${b.content.substr(d).replace(/\n$/,"\\n")}|`));const k=function(U,Q,ee,Z,Y,X){const V=function(de,le,we,ae,pe,Pe){const ye=pe.getRule(de),{ruleScanner:ge,findOptions:Se}=$(ye,de,pe.endRule,we,ae===Pe);let me=0;a.DebugFlags.InDebugMode&&(me=S.performanceNow());const fe=ge.findNextMatchSync(le,ae,Se);if(a.DebugFlags.InDebugMode){const be=S.performanceNow()-me;be>5&&console.warn(`Rule ${ye.debugName} (${ye.id}) matching took ${be} against '${le}'`),console.log(`  scanning for (linePos: ${ae}, anchorPosition: ${Pe})`),console.log(ge.toString()),fe&&console.log(`matched rule id: ${fe.ruleId} from ${fe.captureIndices[0].start} to ${fe.captureIndices[0].end}`)}return fe?{captureIndices:fe.captureIndices,matchedRuleId:fe.ruleId}:null}(U,Q,ee,Z,Y,X),oe=U.getInjections();if(oe.length===0)return V;const M=function(de,le,we,ae,pe,Pe,ye){let ge,Se=Number.MAX_VALUE,me=null,fe=0;const be=Pe.contentNameScopesList.getScopeNames();for(let Ae=0,Ee=de.length;Ae<Ee;Ae++){const ve=de[Ae];if(!ve.matcher(be))continue;const Oe=le.getRule(ve.ruleId),{ruleScanner:Ne,findOptions:Re}=$(Oe,le,null,ae,pe===ye),Ce=Ne.findNextMatchSync(we,pe,Re);if(!Ce)continue;a.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${ve.debugSelector}`),console.log(Ne.toString()));const Te=Ce.captureIndices[0].start;if(!(Te>=Se)&&(Se=Te,me=Ce.captureIndices,ge=Ce.ruleId,fe=ve.priority,Se===pe))break}return me?{priorityMatch:fe===-1,captureIndices:me,matchedRuleId:ge}:null}(oe,U,Q,ee,Z,Y,X);if(!M)return V;if(!V)return M;const te=V.captureIndices[0].start,J=M.captureIndices[0].start;return J<te||M.priorityMatch&&J===te?M:V}(N,b,A,d,i,C);if(!k)return a.DebugFlags.InDebugMode&&console.log("  no more matches."),p.produce(i,_),void(m=!0);const L=k.captureIndices,W=k.matchedRuleId,z=!!(L&&L.length>0)&&L[0].end>d;if(W===f.endRuleId){const U=i.getRule(N);a.DebugFlags.InDebugMode&&console.log("  popping "+U.debugName+" - "+U.debugEndRegExp),p.produce(i,L[0].start),i=i.withContentNameScopesList(i.nameScopesList),R(N,b,A,i,p,U.endCaptures,L),p.produce(i,L[0].end);const Q=i;if(i=i.parent,C=Q.getAnchorPos(),!z&&Q.getEnterPos()===d)return a.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),i=Q,p.produce(i,_),void(m=!0)}else{const U=N.getRule(W);p.produce(i,L[0].start);const Q=i,ee=U.getName(b.content,L),Z=i.contentNameScopesList.pushAttributed(ee,N);if(i=i.push(W,d,C,L[0].end===_,null,Z,Z),U instanceof f.BeginEndRule){const Y=U;a.DebugFlags.InDebugMode&&console.log("  pushing "+Y.debugName+" - "+Y.debugBeginRegExp),R(N,b,A,i,p,Y.beginCaptures,L),p.produce(i,L[0].end),C=L[0].end;const X=Y.getContentName(b.content,L),V=Z.pushAttributed(X,N);if(i=i.withContentNameScopesList(V),Y.endHasBackReferences&&(i=i.withEndRule(Y.getEndWithResolvedBackReferences(b.content,L))),!z&&Q.hasSameRuleAs(i))return a.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),p.produce(i,_),void(m=!0)}else if(U instanceof f.BeginWhileRule){const Y=U;a.DebugFlags.InDebugMode&&console.log("  pushing "+Y.debugName),R(N,b,A,i,p,Y.beginCaptures,L),p.produce(i,L[0].end),C=L[0].end;const X=Y.getContentName(b.content,L),V=Z.pushAttributed(X,N);if(i=i.withContentNameScopesList(V),Y.whileHasBackReferences&&(i=i.withEndRule(Y.getWhileWithResolvedBackReferences(b.content,L))),!z&&Q.hasSameRuleAs(i))return a.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),p.produce(i,_),void(m=!0)}else{const Y=U;if(a.DebugFlags.InDebugMode&&console.log("  matched "+Y.debugName+" - "+Y.debugMatchRegExp),R(N,b,A,i,p,Y.captures,L),p.produce(i,L[0].end),i=i.pop(),!z)return a.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),i=i.safePop(),p.produce(i,_),void(m=!0)}}L[0].end>d&&(d=L[0].end,A=!1)}}function $(N,b,A,d,i){return a.UseOnigurumaFindOptions?{ruleScanner:N.compile(b,A),findOptions:I(d,i)}:{ruleScanner:N.compileAG(b,A,d,i),findOptions:0}}function E(N,b,A,d,i){return a.UseOnigurumaFindOptions?{ruleScanner:N.compileWhile(b,A),findOptions:I(d,i)}:{ruleScanner:N.compileWhileAG(b,A,d,i),findOptions:0}}function I(N,b){let A=0;return N||(A|=1),b||(A|=4),A}function R(N,b,A,d,i,p,g){if(p.length===0)return;const c=b.content,_=Math.min(p.length,g.length),m=[],C=g[0].end;for(let w=0;w<_;w++){const T=p[w];if(T===null)continue;const k=g[w];if(k.length===0)continue;if(k.start>C)break;for(;m.length>0&&m[m.length-1].endPos<=k.start;)i.produceFromScopes(m[m.length-1].scopes,m[m.length-1].endPos),m.pop();if(m.length>0?i.produceFromScopes(m[m.length-1].scopes,k.start):i.produce(d,k.start),T.retokenizeCapturedWithRuleId){const W=T.getName(c,g),z=d.contentNameScopesList.pushAttributed(W,N),U=T.getContentName(c,g),Q=z.pushAttributed(U,N),ee=d.push(T.retokenizeCapturedWithRuleId,k.start,-1,!1,null,z,Q),Z=N.createOnigString(c.substring(0,k.end));v(N,Z,A&&k.start===0,k.start,ee,i,!1,0),h.disposeOnigString(Z);continue}const L=T.getName(c,g);if(L!==null){const W=(m.length>0?m[m.length-1].scopes:d.contentNameScopesList).pushAttributed(L,N);m.push(new P(W,k.end))}}for(;m.length>0;)i.produceFromScopes(m[m.length-1].scopes,m[m.length-1].endPos),m.pop()}s._tokenizeString=v;class P{constructor(b,A){this.scopes=b,this.endPos=A}}s.LocalStackElement=P},974:(l,s)=>{function u(S,y){throw new Error("Near offset "+S.pos+": "+y+" ~~~"+S.source.substr(S.pos,50)+"~~~")}Object.defineProperty(s,"__esModule",{value:!0}),s.parseJSON=void 0,s.parseJSON=function(S,y,v){let $=new a(S),E=new h,I=0,R=null,P=[],N=[];function b(){P.push(I),N.push(R)}function A(){I=P.pop(),R=N.pop()}function d(i){u($,i)}for(;f($,E);){if(I===0){if(R!==null&&d("too many constructs in root"),E.type===3){R={},v&&(R.$vscodeTextmateLocation=E.toLocation(y)),b(),I=1;continue}if(E.type===2){R=[],b(),I=4;continue}d("unexpected token in root")}if(I===2){if(E.type===5){A();continue}if(E.type===7){I=3;continue}d("expected , or }")}if(I===1||I===3){if(I===1&&E.type===5){A();continue}if(E.type===1){let i=E.value;if(f($,E)&&E.type===6||d("expected colon"),f($,E)||d("expected value"),I=2,E.type===1){R[i]=E.value;continue}if(E.type===8){R[i]=null;continue}if(E.type===9){R[i]=!0;continue}if(E.type===10){R[i]=!1;continue}if(E.type===11){R[i]=parseFloat(E.value);continue}if(E.type===2){let p=[];R[i]=p,b(),I=4,R=p;continue}if(E.type===3){let p={};v&&(p.$vscodeTextmateLocation=E.toLocation(y)),R[i]=p,b(),I=1,R=p;continue}}d("unexpected token in dict")}if(I===5){if(E.type===4){A();continue}if(E.type===7){I=6;continue}d("expected , or ]")}if(I===4||I===6){if(I===4&&E.type===4){A();continue}if(I=5,E.type===1){R.push(E.value);continue}if(E.type===8){R.push(null);continue}if(E.type===9){R.push(!0);continue}if(E.type===10){R.push(!1);continue}if(E.type===11){R.push(parseFloat(E.value));continue}if(E.type===2){let i=[];R.push(i),b(),I=4,R=i;continue}if(E.type===3){let i={};v&&(i.$vscodeTextmateLocation=E.toLocation(y)),R.push(i),b(),I=1,R=i;continue}d("unexpected token in array")}d("unknown state")}return N.length!==0&&d("unclosed constructs"),R};class a{constructor(y){this.source=y,this.pos=0,this.len=y.length,this.line=1,this.char=0}}class h{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(y){return{filename:y,line:this.line,char:this.char}}}function f(S,y){y.value=null,y.type=0,y.offset=-1,y.len=-1,y.line=-1,y.char=-1;let v,$=S.source,E=S.pos,I=S.len,R=S.line,P=S.char;for(;;){if(E>=I)return!1;if(v=$.charCodeAt(E),v!==32&&v!==9&&v!==13){if(v!==10)break;E++,R++,P=0}else E++,P++}if(y.offset=E,y.line=R,y.char=P,v===34){for(y.type=1,E++,P++;;){if(E>=I)return!1;if(v=$.charCodeAt(E),E++,P++,v!==92){if(v===34)break}else E++,P++}y.value=$.substring(y.offset+1,E-1).replace(/\\u([0-9A-Fa-f]{4})/g,(N,b)=>String.fromCodePoint(parseInt(b,16))).replace(/\\(.)/g,(N,b)=>{switch(b){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:u(S,"invalid escape sequence")}throw new Error("unreachable")})}else if(v===91)y.type=2,E++,P++;else if(v===123)y.type=3,E++,P++;else if(v===93)y.type=4,E++,P++;else if(v===125)y.type=5,E++,P++;else if(v===58)y.type=6,E++,P++;else if(v===44)y.type=7,E++,P++;else if(v===110){if(y.type=8,E++,P++,v=$.charCodeAt(E),v!==117||(E++,P++,v=$.charCodeAt(E),v!==108)||(E++,P++,v=$.charCodeAt(E),v!==108))return!1;E++,P++}else if(v===116){if(y.type=9,E++,P++,v=$.charCodeAt(E),v!==114||(E++,P++,v=$.charCodeAt(E),v!==117)||(E++,P++,v=$.charCodeAt(E),v!==101))return!1;E++,P++}else if(v===102){if(y.type=10,E++,P++,v=$.charCodeAt(E),v!==97||(E++,P++,v=$.charCodeAt(E),v!==108)||(E++,P++,v=$.charCodeAt(E),v!==115)||(E++,P++,v=$.charCodeAt(E),v!==101))return!1;E++,P++}else for(y.type=11;;){if(E>=I)return!1;if(v=$.charCodeAt(E),!(v===46||v>=48&&v<=57||v===101||v===69||v===45||v===43))break;E++,P++}return y.len=E-y.offset,y.value===null&&(y.value=$.substr(y.offset,y.len)),S.pos=E,S.line=R,S.char=P,!0}},787:function(l,s,u){var a=this&&this.__createBinding||(Object.create?function(I,R,P,N){N===void 0&&(N=P),Object.defineProperty(I,N,{enumerable:!0,get:function(){return R[P]}})}:function(I,R,P,N){N===void 0&&(N=P),I[N]=R[P]}),h=this&&this.__exportStar||function(I,R){for(var P in I)P==="default"||Object.prototype.hasOwnProperty.call(R,P)||a(R,I,P)};Object.defineProperty(s,"__esModule",{value:!0}),s.applyStateStackDiff=s.diffStateStacksRefEq=s.parseRawGrammar=s.INITIAL=s.Registry=void 0;const f=u(391),S=u(50),y=u(652),v=u(583),$=u(965),E=u(442);Object.defineProperty(s,"applyStateStackDiff",{enumerable:!0,get:function(){return E.applyStateStackDiff}}),Object.defineProperty(s,"diffStateStacksRefEq",{enumerable:!0,get:function(){return E.diffStateStacksRefEq}}),h(u(44),s),s.Registry=class{constructor(I){this._options=I,this._syncRegistry=new y.SyncRegistry(v.Theme.createFromRawTheme(I.theme,I.colorMap),I.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(I,R){this._syncRegistry.setTheme(v.Theme.createFromRawTheme(I,R))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(I,R,P){return this.loadGrammarWithConfiguration(I,R,{embeddedLanguages:P})}loadGrammarWithConfiguration(I,R,P){return this._loadGrammar(I,R,P.embeddedLanguages,P.tokenTypes,new f.BalancedBracketSelectors(P.balancedBracketSelectors||[],P.unbalancedBracketSelectors||[]))}loadGrammar(I){return this._loadGrammar(I,0,null,null,null)}async _loadGrammar(I,R,P,N,b){const A=new $.ScopeDependencyProcessor(this._syncRegistry,I);for(;A.Q.length>0;)await Promise.all(A.Q.map(d=>this._loadSingleGrammar(d.scopeName))),A.processQueue();return this._grammarForScopeName(I,R,P,N,b)}async _loadSingleGrammar(I){return this._ensureGrammarCache.has(I)||this._ensureGrammarCache.set(I,this._doLoadSingleGrammar(I)),this._ensureGrammarCache.get(I)}async _doLoadSingleGrammar(I){const R=await this._options.loadGrammar(I);if(R){const P=typeof this._options.getInjections=="function"?this._options.getInjections(I):void 0;this._syncRegistry.addGrammar(R,P)}}async addGrammar(I,R=[],P=0,N=null){return this._syncRegistry.addGrammar(I,R),await this._grammarForScopeName(I.scopeName,P,N)}_grammarForScopeName(I,R=0,P=null,N=null,b=null){return this._syncRegistry.grammarForScopeName(I,R,P,N,b)}},s.INITIAL=f.StateStackImpl.NULL,s.parseRawGrammar=S.parseRawGrammar},736:(l,s)=>{function u(a){return!!a&&!!a.match(/[\w\.:]+/)}Object.defineProperty(s,"__esModule",{value:!0}),s.createMatchers=void 0,s.createMatchers=function(a,h){const f=[],S=function(E){let I=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,R=I.exec(E);return{next:()=>{if(!R)return null;const P=R[0];return R=I.exec(E),P}}}(a);let y=S.next();for(;y!==null;){let E=0;if(y.length===2&&y.charAt(1)===":"){switch(y.charAt(0)){case"R":E=1;break;case"L":E=-1;break;default:console.log(`Unknown priority ${y} in scope selector`)}y=S.next()}let I=$();if(f.push({matcher:I,priority:E}),y!==",")break;y=S.next()}return f;function v(){if(y==="-"){y=S.next();const E=v();return I=>!!E&&!E(I)}if(y==="("){y=S.next();const E=function(){const I=[];let R=$();for(;R&&(I.push(R),y==="|"||y===",");){do y=S.next();while(y==="|"||y===",");R=$()}return P=>I.some(N=>N(P))}();return y===")"&&(y=S.next()),E}if(u(y)){const E=[];do E.push(y),y=S.next();while(u(y));return I=>h(E,I)}return null}function $(){const E=[];let I=v();for(;I;)E.push(I),I=v();return R=>E.every(P=>P(R))}}},44:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.disposeOnigString=void 0,s.disposeOnigString=function(u){typeof u.dispose=="function"&&u.dispose()}},50:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseRawGrammar=void 0;const a=u(69),h=u(350),f=u(974);s.parseRawGrammar=function(S,y=null){return y!==null&&/\.json$/.test(y)?(v=S,$=y,h.DebugFlags.InDebugMode?f.parseJSON(v,$,!0):JSON.parse(v)):function(E,I){return h.DebugFlags.InDebugMode?a.parseWithLocation(E,I,"$vscodeTextmateLocation"):a.parsePLIST(E)}(S,y);var v,$}},69:(l,s)=>{function u(a,h,f){const S=a.length;let y=0,v=1,$=0;function E(M){if(f===null)y+=M;else for(;M>0;)a.charCodeAt(y)===10?(y++,v++,$=0):(y++,$++),M--}function I(M){f===null?y=M:E(M-y)}function R(){for(;y<S;){let M=a.charCodeAt(y);if(M!==32&&M!==9&&M!==13&&M!==10)break;E(1)}}function P(M){return a.substr(y,M.length)===M&&(E(M.length),!0)}function N(M){let te=a.indexOf(M,y);I(te!==-1?te+M.length:S)}function b(M){let te=a.indexOf(M,y);if(te!==-1){let J=a.substring(y,te);return I(te+M.length),J}{let J=a.substr(y);return I(S),J}}S>0&&a.charCodeAt(0)===65279&&(y=1);let A=0,d=null,i=[],p=[],g=null;function c(M,te){i.push(A),p.push(d),A=M,d=te}function _(){if(i.length===0)return m("illegal state stack");A=i.pop(),d=p.pop()}function m(M){throw new Error("Near offset "+y+": "+M+" ~~~"+a.substr(y,50)+"~~~")}const C=function(){if(g===null)return m("missing <key>");let M={};f!==null&&(M[f]={filename:h,line:v,char:$}),d[g]=M,g=null,c(1,M)},w=function(){if(g===null)return m("missing <key>");let M=[];d[g]=M,g=null,c(2,M)},T=function(){let M={};f!==null&&(M[f]={filename:h,line:v,char:$}),d.push(M),c(1,M)},k=function(){let M=[];d.push(M),c(2,M)};function L(){if(A!==1)return m("unexpected </dict>");_()}function W(){return A===1||A!==2?m("unexpected </array>"):void _()}function z(M){if(A===1){if(g===null)return m("missing <key>");d[g]=M,g=null}else A===2?d.push(M):d=M}function U(M){if(isNaN(M))return m("cannot parse float");if(A===1){if(g===null)return m("missing <key>");d[g]=M,g=null}else A===2?d.push(M):d=M}function Q(M){if(isNaN(M))return m("cannot parse integer");if(A===1){if(g===null)return m("missing <key>");d[g]=M,g=null}else A===2?d.push(M):d=M}function ee(M){if(A===1){if(g===null)return m("missing <key>");d[g]=M,g=null}else A===2?d.push(M):d=M}function Z(M){if(A===1){if(g===null)return m("missing <key>");d[g]=M,g=null}else A===2?d.push(M):d=M}function Y(M){if(A===1){if(g===null)return m("missing <key>");d[g]=M,g=null}else A===2?d.push(M):d=M}function X(){let M=b(">"),te=!1;return M.charCodeAt(M.length-1)===47&&(te=!0,M=M.substring(0,M.length-1)),{name:M.trim(),isClosed:te}}function V(M){if(M.isClosed)return"";let te=b("</");return N(">"),te.replace(/&#([0-9]+);/g,function(J,de){return String.fromCodePoint(parseInt(de,10))}).replace(/&#x([0-9a-f]+);/g,function(J,de){return String.fromCodePoint(parseInt(de,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(J){switch(J){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return J})}for(;y<S&&(R(),!(y>=S));){const M=a.charCodeAt(y);if(E(1),M!==60)return m("expected <");if(y>=S)return m("unexpected end of input");const te=a.charCodeAt(y);if(te===63){E(1),N("?>");continue}if(te===33){if(E(1),P("--")){N("-->");continue}N(">");continue}if(te===47){if(E(1),R(),P("plist")){N(">");continue}if(P("dict")){N(">"),L();continue}if(P("array")){N(">"),W();continue}return m("unexpected closed tag")}let J=X();switch(J.name){case"dict":A===1?C():A===2?T():(d={},f!==null&&(d[f]={filename:h,line:v,char:$}),c(1,d)),J.isClosed&&L();continue;case"array":A===1?w():A===2?k():(d=[],c(2,d)),J.isClosed&&W();continue;case"key":oe=V(J),A!==1?m("unexpected <key>"):g!==null?m("too many <key>"):g=oe;continue;case"string":z(V(J));continue;case"real":U(parseFloat(V(J)));continue;case"integer":Q(parseInt(V(J),10));continue;case"date":ee(new Date(V(J)));continue;case"data":Z(V(J));continue;case"true":V(J),Y(!0);continue;case"false":V(J),Y(!1);continue}if(!/^plist/.test(J.name))return m("unexpected opened tag "+J.name)}var oe;return d}Object.defineProperty(s,"__esModule",{value:!0}),s.parsePLIST=s.parseWithLocation=void 0,s.parseWithLocation=function(a,h,f){return u(a,h,f)},s.parsePLIST=function(a){return u(a,null,null)}},652:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SyncRegistry=void 0;const a=u(391);s.SyncRegistry=class{constructor(h,f){this._onigLibPromise=f,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=h}dispose(){for(const h of this._grammars.values())h.dispose()}setTheme(h){this._theme=h}getColorMap(){return this._theme.getColorMap()}addGrammar(h,f){this._rawGrammars.set(h.scopeName,h),f&&this._injectionGrammars.set(h.scopeName,f)}lookup(h){return this._rawGrammars.get(h)}injections(h){return this._injectionGrammars.get(h)}getDefaults(){return this._theme.getDefaults()}themeMatch(h){return this._theme.match(h)}async grammarForScopeName(h,f,S,y,v){if(!this._grammars.has(h)){let $=this._rawGrammars.get(h);if(!$)return null;this._grammars.set(h,a.createGrammar(h,$,f,S,y,v,this,await this._onigLibPromise))}return this._grammars.get(h)}}},792:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CompiledRule=s.RegExpSourceList=s.RegExpSource=s.RuleFactory=s.BeginWhileRule=s.BeginEndRule=s.IncludeOnlyRule=s.MatchRule=s.CaptureRule=s.Rule=s.ruleIdToNumber=s.ruleIdFromNumber=s.whileRuleId=s.endRuleId=void 0;const a=u(878),h=u(965),f=/\\(\d+)/,S=/\\(\d+)/g;s.endRuleId=-1,s.whileRuleId=-2,s.ruleIdFromNumber=function(d){return d},s.ruleIdToNumber=function(d){return d};class y{constructor(i,p,g,c){this.$location=i,this.id=p,this._name=g||null,this._nameIsCapturing=a.RegexSource.hasCaptures(this._name),this._contentName=c||null,this._contentNameIsCapturing=a.RegexSource.hasCaptures(this._contentName)}get debugName(){const i=this.$location?`${a.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${i}`}getName(i,p){return this._nameIsCapturing&&this._name!==null&&i!==null&&p!==null?a.RegexSource.replaceCaptures(this._name,i,p):this._name}getContentName(i,p){return this._contentNameIsCapturing&&this._contentName!==null?a.RegexSource.replaceCaptures(this._contentName,i,p):this._contentName}}s.Rule=y;class v extends y{constructor(i,p,g,c,_){super(i,p,g,c),this.retokenizeCapturedWithRuleId=_}dispose(){}collectPatterns(i,p){throw new Error("Not supported!")}compile(i,p){throw new Error("Not supported!")}compileAG(i,p,g,c){throw new Error("Not supported!")}}s.CaptureRule=v;class $ extends y{constructor(i,p,g,c,_){super(i,p,g,null),this._match=new N(c,this.id),this.captures=_,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(i,p){p.push(this._match)}compile(i,p){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,p,g,c){return this._getCachedCompiledPatterns(i).compileAG(i,g,c)}_getCachedCompiledPatterns(i){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new b,this.collectPatterns(i,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}s.MatchRule=$;class E extends y{constructor(i,p,g,c,_){super(i,p,g,c),this.patterns=_.patterns,this.hasMissingPatterns=_.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(i,p){for(const g of this.patterns)i.getRule(g).collectPatterns(i,p)}compile(i,p){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,p,g,c){return this._getCachedCompiledPatterns(i).compileAG(i,g,c)}_getCachedCompiledPatterns(i){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new b,this.collectPatterns(i,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}s.IncludeOnlyRule=E;class I extends y{constructor(i,p,g,c,_,m,C,w,T,k){super(i,p,g,c),this._begin=new N(_,this.id),this.beginCaptures=m,this._end=new N(C||"ï¿¿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=w,this.applyEndPatternLast=T||!1,this.patterns=k.patterns,this.hasMissingPatterns=k.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(i,p){return this._end.resolveBackReferences(i,p)}collectPatterns(i,p){p.push(this._begin)}compile(i,p){return this._getCachedCompiledPatterns(i,p).compile(i)}compileAG(i,p,g,c){return this._getCachedCompiledPatterns(i,p).compileAG(i,g,c)}_getCachedCompiledPatterns(i,p){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new b;for(const g of this.patterns)i.getRule(g).collectPatterns(i,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,p):this._cachedCompiledPatterns.setSource(0,p)),this._cachedCompiledPatterns}}s.BeginEndRule=I;class R extends y{constructor(i,p,g,c,_,m,C,w,T){super(i,p,g,c),this._begin=new N(_,this.id),this.beginCaptures=m,this.whileCaptures=w,this._while=new N(C,s.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=T.patterns,this.hasMissingPatterns=T.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(i,p){return this._while.resolveBackReferences(i,p)}collectPatterns(i,p){p.push(this._begin)}compile(i,p){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,p,g,c){return this._getCachedCompiledPatterns(i).compileAG(i,g,c)}_getCachedCompiledPatterns(i){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new b;for(const p of this.patterns)i.getRule(p).collectPatterns(i,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(i,p){return this._getCachedCompiledWhilePatterns(i,p).compile(i)}compileWhileAG(i,p,g,c){return this._getCachedCompiledWhilePatterns(i,p).compileAG(i,g,c)}_getCachedCompiledWhilePatterns(i,p){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new b,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,p||"ï¿¿"),this._cachedCompiledWhilePatterns}}s.BeginWhileRule=R;class P{static createCaptureRule(i,p,g,c,_){return i.registerRule(m=>new v(p,m,g,c,_))}static getCompiledRuleId(i,p,g){return i.id||p.registerRule(c=>{if(i.id=c,i.match)return new $(i.$vscodeTextmateLocation,i.id,i.name,i.match,P._compileCaptures(i.captures,p,g));if(i.begin===void 0){i.repository&&(g=a.mergeObjects({},g,i.repository));let _=i.patterns;return _===void 0&&i.include&&(_=[{include:i.include}]),new E(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,P._compilePatterns(_,p,g))}return i.while?new R(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,i.begin,P._compileCaptures(i.beginCaptures||i.captures,p,g),i.while,P._compileCaptures(i.whileCaptures||i.captures,p,g),P._compilePatterns(i.patterns,p,g)):new I(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,i.begin,P._compileCaptures(i.beginCaptures||i.captures,p,g),i.end,P._compileCaptures(i.endCaptures||i.captures,p,g),i.applyEndPatternLast,P._compilePatterns(i.patterns,p,g))}),i.id}static _compileCaptures(i,p,g){let c=[];if(i){let _=0;for(const m in i){if(m==="$vscodeTextmateLocation")continue;const C=parseInt(m,10);C>_&&(_=C)}for(let m=0;m<=_;m++)c[m]=null;for(const m in i){if(m==="$vscodeTextmateLocation")continue;const C=parseInt(m,10);let w=0;i[m].patterns&&(w=P.getCompiledRuleId(i[m],p,g)),c[C]=P.createCaptureRule(p,i[m].$vscodeTextmateLocation,i[m].name,i[m].contentName,w)}}return c}static _compilePatterns(i,p,g){let c=[];if(i)for(let _=0,m=i.length;_<m;_++){const C=i[_];let w=-1;if(C.include){const T=h.parseInclude(C.include);switch(T.kind){case 0:case 1:w=P.getCompiledRuleId(g[C.include],p,g);break;case 2:let k=g[T.ruleName];k&&(w=P.getCompiledRuleId(k,p,g));break;case 3:case 4:const L=T.scopeName,W=T.kind===4?T.ruleName:null,z=p.getExternalGrammar(L,g);if(z)if(W){let U=z.repository[W];U&&(w=P.getCompiledRuleId(U,p,z.repository))}else w=P.getCompiledRuleId(z.repository.$self,p,z.repository)}}else w=P.getCompiledRuleId(C,p,g);if(w!==-1){const T=p.getRule(w);let k=!1;if((T instanceof E||T instanceof I||T instanceof R)&&T.hasMissingPatterns&&T.patterns.length===0&&(k=!0),k)continue;c.push(w)}}return{patterns:c,hasMissingPatterns:(i?i.length:0)!==c.length}}}s.RuleFactory=P;class N{constructor(i,p){if(i){const g=i.length;let c=0,_=[],m=!1;for(let C=0;C<g;C++)if(i.charAt(C)==="\\"&&C+1<g){const w=i.charAt(C+1);w==="z"?(_.push(i.substring(c,C)),_.push("$(?!\\n)(?<!\\n)"),c=C+2):w!=="A"&&w!=="G"||(m=!0),C++}this.hasAnchor=m,c===0?this.source=i:(_.push(i.substring(c,g)),this.source=_.join(""))}else this.hasAnchor=!1,this.source=i;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=p,this.hasBackReferences=f.test(this.source)}clone(){return new N(this.source,this.ruleId)}setSource(i){this.source!==i&&(this.source=i,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(i,p){let g=p.map(c=>i.substring(c.start,c.end));return S.lastIndex=0,this.source.replace(S,(c,_)=>a.escapeRegExpCharacters(g[parseInt(_,10)]||""))}_buildAnchorCache(){let i,p,g,c,_=[],m=[],C=[],w=[];for(i=0,p=this.source.length;i<p;i++)g=this.source.charAt(i),_[i]=g,m[i]=g,C[i]=g,w[i]=g,g==="\\"&&i+1<p&&(c=this.source.charAt(i+1),c==="A"?(_[i+1]="ï¿¿",m[i+1]="ï¿¿",C[i+1]="A",w[i+1]="A"):c==="G"?(_[i+1]="ï¿¿",m[i+1]="G",C[i+1]="ï¿¿",w[i+1]="G"):(_[i+1]=c,m[i+1]=c,C[i+1]=c,w[i+1]=c),i++);return{A0_G0:_.join(""),A0_G1:m.join(""),A1_G0:C.join(""),A1_G1:w.join("")}}resolveAnchors(i,p){return this.hasAnchor&&this._anchorCache?i?p?this._anchorCache.A1_G1:this._anchorCache.A1_G0:p?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}s.RegExpSource=N;class b{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(i){this._items.push(i),this._hasAnchors=this._hasAnchors||i.hasAnchor}unshift(i){this._items.unshift(i),this._hasAnchors=this._hasAnchors||i.hasAnchor}length(){return this._items.length}setSource(i,p){this._items[i].source!==p&&(this._disposeCaches(),this._items[i].setSource(p))}compile(i){if(!this._cached){let p=this._items.map(g=>g.source);this._cached=new A(i,p,this._items.map(g=>g.ruleId))}return this._cached}compileAG(i,p,g){return this._hasAnchors?p?g?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(i,p,g)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(i,p,g)),this._anchorCache.A1_G0):g?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(i,p,g)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(i,p,g)),this._anchorCache.A0_G0):this.compile(i)}_resolveAnchors(i,p,g){let c=this._items.map(_=>_.resolveAnchors(p,g));return new A(i,c,this._items.map(_=>_.ruleId))}}s.RegExpSourceList=b;class A{constructor(i,p,g){this.regExps=p,this.rules=g,this.scanner=i.createOnigScanner(p)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const i=[];for(let p=0,g=this.rules.length;p<g;p++)i.push("   - "+this.rules[p]+": "+this.regExps[p]);return i.join(`
`)}findNextMatchSync(i,p,g){const c=this.scanner.findNextMatchSync(i,p,g);return c?{ruleId:this.rules[c.index],captureIndices:c.captureIndices}:null}}s.CompiledRule=A},583:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeTrieElement=s.ThemeTrieElementRule=s.ColorMap=s.fontStyleToString=s.ParsedThemeRule=s.parseTheme=s.StyleAttributes=s.ScopeStack=s.Theme=void 0;const a=u(878);class h{constructor(b,A,d){this._colorMap=b,this._defaults=A,this._root=d,this._cachedMatchRoot=new a.CachedFn(i=>this._root.match(i))}static createFromRawTheme(b,A){return this.createFromParsedTheme(v(b),A)}static createFromParsedTheme(b,A){return function(d,i){d.sort((w,T)=>{let k=a.strcmp(w.scope,T.scope);return k!==0?k:(k=a.strArrCmp(w.parentScopes,T.parentScopes),k!==0?k:w.index-T.index)});let p=0,g="#000000",c="#ffffff";for(;d.length>=1&&d[0].scope==="";){let w=d.shift();w.fontStyle!==-1&&(p=w.fontStyle),w.foreground!==null&&(g=w.foreground),w.background!==null&&(c=w.background)}let _=new E(i),m=new y(p,_.getId(g),_.getId(c)),C=new P(new R(0,null,-1,0,0),[]);for(let w=0,T=d.length;w<T;w++){let k=d[w];C.insert(0,k.scope,k.parentScopes,k.fontStyle,_.getId(k.foreground),_.getId(k.background))}return new h(_,m,C)}(b,A)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(b){if(b===null)return this._defaults;const A=b.scopeName,d=this._cachedMatchRoot.get(A).find(i=>function(p,g){if(g.length===0)return!0;for(let c=0;c<g.length;c++){let _=g[c],m=!1;if(_===">"){if(c===g.length-1)return!1;_=g[++c],m=!0}for(;p&&!S(p.scopeName,_);){if(m)return!1;p=p.parent}if(!p)return!1;p=p.parent}return!0}(b.parent,i.parentScopes));return d?new y(d.fontStyle,d.foreground,d.background):null}}s.Theme=h;class f{constructor(b,A){this.parent=b,this.scopeName=A}static push(b,A){for(const d of A)b=new f(b,d);return b}static from(...b){let A=null;for(let d=0;d<b.length;d++)A=new f(A,b[d]);return A}push(b){return new f(this,b)}getSegments(){let b=this;const A=[];for(;b;)A.push(b.scopeName),b=b.parent;return A.reverse(),A}toString(){return this.getSegments().join(" ")}extends(b){return this===b||this.parent!==null&&this.parent.extends(b)}getExtensionIfDefined(b){const A=[];let d=this;for(;d&&d!==b;)A.push(d.scopeName),d=d.parent;return d===b?A.reverse():void 0}}function S(N,b){return b===N||N.startsWith(b)&&N[b.length]==="."}s.ScopeStack=f;class y{constructor(b,A,d){this.fontStyle=b,this.foregroundId=A,this.backgroundId=d}}function v(N){if(!N)return[];if(!N.settings||!Array.isArray(N.settings))return[];let b=N.settings,A=[],d=0;for(let i=0,p=b.length;i<p;i++){let g,c=b[i];if(!c.settings)continue;if(typeof c.scope=="string"){let w=c.scope;w=w.replace(/^[,]+/,""),w=w.replace(/[,]+$/,""),g=w.split(",")}else g=Array.isArray(c.scope)?c.scope:[""];let _=-1;if(typeof c.settings.fontStyle=="string"){_=0;let w=c.settings.fontStyle.split(" ");for(let T=0,k=w.length;T<k;T++)switch(w[T]){case"italic":_|=1;break;case"bold":_|=2;break;case"underline":_|=4;break;case"strikethrough":_|=8}}let m=null;typeof c.settings.foreground=="string"&&a.isValidHexColor(c.settings.foreground)&&(m=c.settings.foreground);let C=null;typeof c.settings.background=="string"&&a.isValidHexColor(c.settings.background)&&(C=c.settings.background);for(let w=0,T=g.length;w<T;w++){let k=g[w].trim().split(" "),L=k[k.length-1],W=null;k.length>1&&(W=k.slice(0,k.length-1),W.reverse()),A[d++]=new $(L,W,i,_,m,C)}}return A}s.StyleAttributes=y,s.parseTheme=v;class ${constructor(b,A,d,i,p,g){this.scope=b,this.parentScopes=A,this.index=d,this.fontStyle=i,this.foreground=p,this.background=g}}s.ParsedThemeRule=$,s.fontStyleToString=function(N){if(N===-1)return"not set";let b="";return 1&N&&(b+="italic "),2&N&&(b+="bold "),4&N&&(b+="underline "),8&N&&(b+="strikethrough "),b===""&&(b="none"),b.trim()};class E{constructor(b){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(b)){this._isFrozen=!0;for(let A=0,d=b.length;A<d;A++)this._color2id[b[A]]=A,this._id2color[A]=b[A]}else this._isFrozen=!1}getId(b){if(b===null)return 0;b=b.toUpperCase();let A=this._color2id[b];if(A)return A;if(this._isFrozen)throw new Error(`Missing color in color map - ${b}`);return A=++this._lastColorId,this._color2id[b]=A,this._id2color[A]=b,A}getColorMap(){return this._id2color.slice(0)}}s.ColorMap=E;const I=Object.freeze([]);class R{constructor(b,A,d,i,p){this.scopeDepth=b,this.parentScopes=A||I,this.fontStyle=d,this.foreground=i,this.background=p}clone(){return new R(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(b){let A=[];for(let d=0,i=b.length;d<i;d++)A[d]=b[d].clone();return A}acceptOverwrite(b,A,d,i){this.scopeDepth>b?console.log("how did this happen?"):this.scopeDepth=b,A!==-1&&(this.fontStyle=A),d!==0&&(this.foreground=d),i!==0&&(this.background=i)}}s.ThemeTrieElementRule=R;class P{constructor(b,A=[],d={}){this._mainRule=b,this._children=d,this._rulesWithParentScopes=A}static _cmpBySpecificity(b,A){if(b.scopeDepth!==A.scopeDepth)return A.scopeDepth-b.scopeDepth;let d=0,i=0;for(;b.parentScopes[d]===">"&&d++,A.parentScopes[i]===">"&&i++,!(d>=b.parentScopes.length||i>=A.parentScopes.length);){const p=A.parentScopes[i].length-b.parentScopes[d].length;if(p!==0)return p;d++,i++}return A.parentScopes.length-b.parentScopes.length}match(b){if(b!==""){let d,i,p=b.indexOf(".");if(p===-1?(d=b,i=""):(d=b.substring(0,p),i=b.substring(p+1)),this._children.hasOwnProperty(d))return this._children[d].match(i)}const A=this._rulesWithParentScopes.concat(this._mainRule);return A.sort(P._cmpBySpecificity),A}insert(b,A,d,i,p,g){if(A==="")return void this._doInsertHere(b,d,i,p,g);let c,_,m,C=A.indexOf(".");C===-1?(c=A,_=""):(c=A.substring(0,C),_=A.substring(C+1)),this._children.hasOwnProperty(c)?m=this._children[c]:(m=new P(this._mainRule.clone(),R.cloneArr(this._rulesWithParentScopes)),this._children[c]=m),m.insert(b+1,_,d,i,p,g)}_doInsertHere(b,A,d,i,p){if(A!==null){for(let g=0,c=this._rulesWithParentScopes.length;g<c;g++){let _=this._rulesWithParentScopes[g];if(a.strArrCmp(_.parentScopes,A)===0)return void _.acceptOverwrite(b,d,i,p)}d===-1&&(d=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),p===0&&(p=this._mainRule.background),this._rulesWithParentScopes.push(new R(b,A,d,i,p))}else this._mainRule.acceptOverwrite(b,d,i,p)}}s.ThemeTrieElement=P},878:(l,s)=>{function u(f){return Array.isArray(f)?function(S){let y=[];for(let v=0,$=S.length;v<$;v++)y[v]=u(S[v]);return y}(f):typeof f=="object"?function(S){let y={};for(let v in S)y[v]=u(S[v]);return y}(f):f}Object.defineProperty(s,"__esModule",{value:!0}),s.performanceNow=s.CachedFn=s.escapeRegExpCharacters=s.isValidHexColor=s.strArrCmp=s.strcmp=s.RegexSource=s.basename=s.mergeObjects=s.clone=void 0,s.clone=function(f){return u(f)},s.mergeObjects=function(f,...S){return S.forEach(y=>{for(let v in y)f[v]=y[v]}),f},s.basename=function f(S){const y=~S.lastIndexOf("/")||~S.lastIndexOf("\\");return y===0?S:~y==S.length-1?f(S.substring(0,S.length-1)):S.substr(1+~y)};let a=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function h(f,S){return f<S?-1:f>S?1:0}s.RegexSource=class{static hasCaptures(f){return f!==null&&(a.lastIndex=0,a.test(f))}static replaceCaptures(f,S,y){return f.replace(a,(v,$,E,I)=>{let R=y[parseInt($||E,10)];if(!R)return v;{let P=S.substring(R.start,R.end);for(;P[0]===".";)P=P.substring(1);switch(I){case"downcase":return P.toLowerCase();case"upcase":return P.toUpperCase();default:return P}}})}},s.strcmp=h,s.strArrCmp=function(f,S){if(f===null&&S===null)return 0;if(!f)return-1;if(!S)return 1;let y=f.length,v=S.length;if(y===v){for(let $=0;$<y;$++){let E=h(f[$],S[$]);if(E!==0)return E}return 0}return y-v},s.isValidHexColor=function(f){return!!(/^#[0-9a-f]{6}$/i.test(f)||/^#[0-9a-f]{8}$/i.test(f)||/^#[0-9a-f]{3}$/i.test(f)||/^#[0-9a-f]{4}$/i.test(f))},s.escapeRegExpCharacters=function(f){return f.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},s.CachedFn=class{constructor(f){this.fn=f,this.cache=new Map}get(f){if(this.cache.has(f))return this.cache.get(f);const S=this.fn(f);return this.cache.set(f,S),S}},s.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},o={};return function l(s){var u=o[s];if(u!==void 0)return u.exports;var a=o[s]={exports:{}};return n[s].call(a.exports,a,a.exports,l),a.exports}(787)})())})(main);var mainExports=main.exports;function applyStyle(e,t,n){let o;createRenderEffect(()=>{var l;const s=(l=t.style)==null?void 0:l[n];s!==o&&((o=s)!=null?e.style.setProperty(n,typeof s>"u"?null:s.toString()):e.style.removeProperty(n))})}function hexToRgb(e){let t=parseInt(e.slice(1),16),n=t>>16&255,o=t>>8&255,l=t&255;return[n,o,l]}function luminance(e,t,n){const o=[e,t,n].map(l=>(l/=255,l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)));return o[0]*.2126+o[1]*.7152+o[2]*.0722}function once(e,t,n){const o=typeof e=="function"?e():e;return o?t(o):n?n():void 0}function when(e,t,n){return()=>once(e,t,n)}function every(...e){function t(){const n=new Array(e.length);for(let o=0;o<e.length;o++){const l=typeof e[o]=="function"?e[o]():e[o];if(!l)return;n[o]=l}return n}return t}function countDigits(e){return e===0?1:Math.floor(Math.log10(Math.abs(e)))+1}function escapeHTML(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getLongestLineSize(e){let t=0;for(const n of e)n.length>t&&(t=n.length);return t}class Stack{constructor(){__privateAdd(this,_array,[])}peek(){return __privateGet(this,_array)[__privateGet(this,_array).length-1]}push(t){__privateGet(this,_array).push(t)}pop(){return __privateGet(this,_array).pop()}}_array=new WeakMap;var _tmpl$$1=template("<pre part=line>"),_tmpl$2$1=template("<div part=root><code part=code></code><textarea part=textarea autocomplete=off inputmode=none></textarea><code aria-hidden>&nbsp;");const SEGMENT_SIZE=100,WINDOW=50,TOKENIZER_CACHE={},REGISTRY=new mainExports.Registry({onigLib:oniguruma,loadGrammar:e=>fetchFromCDN("grammar",e).then(t=>(t.scopeName=e,t))}),[WASM_LOADED]=createRoot(()=>createResource(async()=>fetch(urlFromCDN("oniguruma",null)).then(e=>e.arrayBuffer()).then(e=>mainExports$1.loadWASM(e)).then(()=>!0)));class ThemeManager{constructor(t){__publicField(this,"themeData"),__privateAdd(this,_scopes,{}),this.themeData=t}resolveScope(t){const n=t.join("-");if(__privateGet(this,_scopes)[n])return __privateGet(this,_scopes)[n];let o={};for(let l=0;l<t.length;l++){const s=t[l];for(const u of this.themeData.tokenColors){const a=Array.isArray(u.scope)?u.scope:[u.scope];for(const h of a)s.startsWith(h||"")&&(o={...o,...u.settings})}}return __privateGet(this,_scopes)[n]=o}getBackgroundColor(){var t;return((t=this.themeData.colors)==null?void 0:t["editor.background"])||void 0}getForegroundColor(){var t;return((t=this.themeData.colors)==null?void 0:t["editor.foreground"])||void 0}}_scopes=new WeakMap;function compareStacks(e,t){let n=!1;return e===t?!0:!e||!t?!1:(e.ruleId!==t.ruleId&&(n=!0),e.depth!==t.depth&&(n=!0),compareScopes(e.nameScopesList,t.nameScopesList)||(n=!0),compareScopes(e.contentNameScopesList,t.contentNameScopesList)||(n=!0),!n)}function compareScopes(e,t){var n,o;return!e&&!t?!0:!(!e||!t||((n=e.scopePath)==null?void 0:n.scopeName)!==((o=t.scopePath)==null?void 0:o.scopeName)||e.tokenAttributes!==t.tokenAttributes)}const TmTextareaContext=createContext(null);function useTmTextarea(){const e=useContext(TmTextareaContext);if(!e)throw"useTextarea should be used in a descendant of TmTextarea";return e}function createTmTextarea(e){function t(n){const o=useTmTextarea(),l=o.segments.peek(),[s,u]=createSignal(l?.stack||mainExports.INITIAL,{equals:compareStacks}),a=n.index*SEGMENT_SIZE,h=a+SEGMENT_SIZE,f=createLazyMemo(when(every(()=>o.tokenizer,()=>o.theme),([S,y])=>{let v=l?.stack||mainExports.INITIAL;const $=o.lines.slice(a,h).map(E=>{const{ruleStack:I,tokens:R}=S.tokenizeLine(E,v);return v=I,R.map(P=>{const N=y.resolveScope(P.scopes),b=E.slice(P.startIndex,P.endIndex);return`<span style="${N.foreground?`color:${N.foreground};`:""}${N.fontStyle?`text-decoration:${N.fontStyle}`:""}">${escapeHTML(b)}</span>`}).join("")});return u(v),$},()=>o.lines.slice(a,h).map(escapeHTML)));return o.segments.push({get stack(){return s()}}),onCleanup(()=>o.segments.pop()),createComponent(Show,{get when(){return o.isSegmentVisible(n.index*SEGMENT_SIZE)},get children(){return createComponent(For,{get each(){return f()},children:(S,y)=>createComponent(Show,{get when(){return o.isVisible(n.index*SEGMENT_SIZE+y())},get children(){var v=_tmpl$$1();return v.innerHTML=S,createRenderEffect($=>{var E=e.line,I=n.index*SEGMENT_SIZE+y();return E!==$.e&&className(v,$.e=E),I!==$.t&&(($.t=I)!=null?v.style.setProperty("--tm-line-number",I):v.style.removeProperty("--tm-line-number")),$},{e:void 0,t:void 0}),v}})})}})}return function(o){const[l,s]=splitProps(mergeProps({editable:!0},o),["class","grammar","onInput","value","style","theme","editable","onScroll","textareaRef"]),[u,a]=splitProps(s,["onKeyDown","onKeyPress","onKeyUp","onChange"]);let h;const[f,S]=createSignal(),[y,v]=createSignal(),[$,E]=createSignal(0),[I,R]=createSignal(o.value),[P]=createResource(every(()=>o.grammar,WASM_LOADED),async([m])=>m in TOKENIZER_CACHE?TOKENIZER_CACHE[m]:TOKENIZER_CACHE[m]=await REGISTRY.loadGrammar(m)),[N]=createResource(()=>o.theme,async m=>fetchFromCDN("theme",m).then(C=>new ThemeManager(C))),b=createMemo(()=>I().split(`
`)),A=createMemo(()=>getLongestLineSize(b())),d=createMemo(()=>{var m;return Math.floor($()/(((m=f())==null?void 0:m.height)||1))}),i=createMemo(()=>{var m,C;return Math.floor(($()+(((m=y())==null?void 0:m.height)||0))/(((C=f())==null?void 0:C.height)||1))}),p=createMemo(()=>Math.floor(d()/SEGMENT_SIZE)),g=createMemo(()=>Math.ceil(i()/SEGMENT_SIZE)),c=when(N,m=>{const C=m.getBackgroundColor(),w=luminance(...hexToRgb(C));return`rgba(98, 114, 164, ${w>.9?.1:w<.1?.25:.175})`}),_=when(()=>l.style,m=>splitProps(m,["width","height"])[1]);return onMount(()=>new ResizeObserver(([m])=>v(m?.contentRect)).observe(h)),createRenderEffect(()=>R(o.value)),createRenderEffect(()=>{var m;return console.log((m=N())==null?void 0:m.getForegroundColor())}),createComponent(TmTextareaContext.Provider,{get value(){return{get viewport(){return y()},get character(){return f()},get scrollTop(){return $()},get lines(){return b()},get theme(){return N()},get tokenizer(){return P()},segments:new Stack,isVisible:createSelector(()=>[d(),i()],(m,[C,w])=>m>b().length-1?!1:m+WINDOW>C&&m-WINDOW<w),isSegmentVisible:createSelector(()=>[p(),g()],m=>{const C=Math.floor((m-WINDOW)/SEGMENT_SIZE),w=Math.ceil((m+WINDOW)/SEGMENT_SIZE);return C<=p()&&w>=g()||C>=p()&&C<=g()||w>=p()&&w<=g()})}},get children(){var m=_tmpl$2$1(),C=m.firstChild,w=C.nextSibling,T=w.nextSibling;m.addEventListener("scroll",L=>{var W;E(L.currentTarget.scrollTop),(W=o.onScroll)==null||W.call(o,L)}),use(L=>{h=L,applyStyle(L,o,"width"),applyStyle(L,o,"height")},m),spread(m,mergeProps({get class(){return clsx(e.container,l.class)},get style(){var L,W,z,U;return{"--tm-background-color":(L=N())==null?void 0:L.getBackgroundColor(),"--tm-char-height":`${((W=f())==null?void 0:W.height)||0}px`,"--tm-char-width":`${((z=f())==null?void 0:z.width)||0}px`,"--tm-foreground-color":(U=N())==null?void 0:U.getForegroundColor(),"--tm-line-count":b().length,"--tm-line-size":A(),"--tm-selection-color":c(),"--tm-line-digits":countDigits(b().length),..._()}}},a),!1,!0),insert(C,createComponent(Index,{get each(){return Array.from({length:Math.ceil(b().length/SEGMENT_SIZE)})},children:(L,W)=>createComponent(t,{index:W})})),w.addEventListener("scroll",L=>{L.preventDefault(),L.stopPropagation()});var k=l.textareaRef;return typeof k=="function"?use(k,w):l.textareaRef=w,setAttribute(w,"spellcheck",!1),w.addEventListener("input",L=>{var W;const U=L.currentTarget.value;R(U),(W=l.onInput)==null||W.call(l,L)}),spread(w,mergeProps({get class(){return e.textarea},get disabled(){return!l.editable},get value(){return l.value},get rows(){return b().length}},u),!1,!1),use(L=>{new ResizeObserver(([W])=>{const{height:z,width:U}=getComputedStyle(W.target);S({height:Number(z.replace("px","")),width:Number(U.replace("px",""))})}).observe(L)},T),createRenderEffect(L=>{var W=e.code,z=e.character;return W!==L.e&&className(C,L.e=W),z!==L.t&&className(T,L.t=z),L},{e:void 0,t:void 0}),m}})}}const container="index-module__container___GdQY1",code="index-module__code___B9PCM",line="index-module__line___n1EGr",character="index-module__character___mhd0f",textarea$1="index-module__textarea___cMW-q",styles$1={container,code,line,character,textarea:textarea$1},TmTextarea=createTmTextarea(styles$1),app="_app_cmz21_6",custom="_custom_cmz21_33",dirIndentGuide="_dirIndentGuide_cmz21_56",textarea="_textarea_cmz21_66",input="_input_cmz21_70",styles={app,default:"_default_cmz21_13",custom,dirIndentGuide,textarea,input};var _tmpl$=template(`<input placeholder="p.ex fs.writeFile('test2.ts', 'Hello World!')">`),_tmpl$2=template("<div>"),_tmpl$3=template("<div><div>"),_tmpl$4=template('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 320 512"><path d="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z">'),_tmpl$5=template('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z">');const App=()=>{const[selected,setSelected]=createSignal("index0.ts"),fs=createFileSystem();function mockData(e){if(!(e.length>5)){fs.mkdir(e.join("/"));for(let t=0;t<3;t++){const n=`${e.join("/")}/index${t}.ts`;fs.writeFile(n,`export const value = 'Hello World from ${n}'`)}for(let t=0;t<3;t++)mockData([...e,"test"+t])}}mockData(["test"]);for(let e=0;e<3;e++){const t=`index${e}.ts`;fs.writeFile(t,`export const value = 'Hello World from ${t}'`)}const grammar=()=>{const e=selected();return e?.endsWith("css")?"css":e?.endsWith("html")?"html":"tsx"};return createComponent(Split,{get class(){return styles.app},get children(){return[createComponent(Split.Pane,{size:"250px",get children(){return createComponent(FileTree,{get class(){return styles.default},fs,get selectedPath(){return selected()},onPathSelect:setSelected})}}),createComponent(Split.Handle,{size:"5px",style:{background:"lightgrey",cursor:"ew-resize"}}),createComponent(Split.Pane,{size:"250px",get children(){return createComponent(FileTree,{fs,get class(){return styles.custom},get selectedPath(){return selected()},onPathSelect:setSelected,sort:(e,t)=>e.type===t.type?e.path<t.path?1:-1:e.type==="dir"?-1:1,components:{IndentGuide(e){return(()=>{var t=_tmpl$3(),n=t.firstChild;return t.style.setProperty("position","relative"),n.style.setProperty("position","absolute"),n.style.setProperty("width","100%"),n.style.setProperty("top","0%"),n.style.setProperty("left","calc(50% - 0.5px)"),n.style.setProperty("border-left","1px solid var(--fs-indent-guide-color)"),n.style.setProperty("height","100%"),insert(t,createComponent(Show,{get when(){return e.type==="dir"&&e.layer===e.count},get children(){var o=_tmpl$2();return o.style.setProperty("position","absolute"),o.style.setProperty("transform","translate(-50%,-50%)"),o.style.setProperty("width","5px"),o.style.setProperty("left","50%"),o.style.setProperty("top","50%"),o.style.setProperty("height","5px"),o.style.setProperty("border-radius","2.5px"),o.style.setProperty("background","white"),createRenderEffect(()=>className(o,styles.dirIndentGuide)),o}}),null),createRenderEffect(()=>setAttribute(t,"data-fs-indent-guide",e.layer===e.count?"vertical":"connection")),t})()},Dir(e){return createComponent(Dir,mergeProps(e,{components:{Prefix:t=>(()=>{var n=_tmpl$2();return n.style.setProperty("display","flex"),n.style.setProperty("align-items","center"),n.style.setProperty("padding","2px"),insert(n,(()=>{var o=createMemo(()=>!!t.collapsed);return()=>o()?(()=>{var l=_tmpl$4();return l.style.setProperty("aspect-ratio","1/1"),l})():(()=>{var l=_tmpl$5();return l.style.setProperty("aspect-ratio","1/1"),l})()})()),n})()}}))}}})}}),createComponent(Split.Handle,{size:"5px",style:{background:"lightgrey",cursor:"ew-resize"}}),createComponent(Split.Pane,{size:"1fr",style:{display:"grid","grid-template-rows":"1fr auto"},get children(){return[createComponent(TmTextarea,{get value(){return createMemo(()=>!!selected())()?fs.readFile(selected()):""},get grammar(){return grammar()},get class(){return styles.textarea},theme:"andromeeda",onInput:e=>fs.writeFile(selected(),e.currentTarget.value)}),(()=>{var _el$=_tmpl$();return _el$.$$keydown=event=>{event.code==="Enter"&&(eval(event.currentTarget.value),event.currentTarget.value="")},createRenderEffect(()=>className(_el$,styles.input)),_el$})()]}})]}})};delegateEvents(["keydown"]);render(()=>createComponent(App,{}),document.getElementById("root"));
